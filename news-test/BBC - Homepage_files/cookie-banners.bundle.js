!function(){var e={229:function(e,n,o){var t=o(102)("jsonp");e.exports=function(e,n,o){"function"==typeof n&&(o=n,n={}),n||(n={});var i,s,a=n.prefix||"__jp",u=n.name||a+c++,l=n.param||"callback",d=null!=n.timeout?n.timeout:6e4,p=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;function m(){i.parentNode&&i.parentNode.removeChild(i),window[u]=r,s&&clearTimeout(s)}return d&&(s=setTimeout((function(){m(),o&&o(new Error("Timeout"))}),d)),window[u]=function(e){t("jsonp got",e),m(),o&&o(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+l+"="+p(u)).replace("?&","?"),t('jsonp req "%s"',e),(i=document.createElement("script")).src=e,f.parentNode.insertBefore(i,f),function(){window[u]&&m()}};var c=0;function r(){}},102:function(e,n,o){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function c(){var e;try{e=n.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(n=e.exports=o(79)).log=function(){return"object"===("undefined"==typeof console?"undefined":t(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var o=this.useColors;if(e[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+e[0]+(o?"%c ":" ")+"+"+n.humanize(this.diff),o){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var c=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(c++,"%c"===e&&(r=c))})),e.splice(r,0,t)}},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=c,n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(c())},79:function(e,n,o){var t;function c(e){function o(){if(o.enabled){var e=o,c=+new Date,r=c-(t||c);e.diff=r,e.prev=t,e.curr=c,t=c;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=n.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(o,t){if("%%"===o)return o;a++;var c=n.formatters[t];if("function"==typeof c){var r=i[a];o=c.call(e,r),i.splice(a,1),a--}return o})),n.formatArgs.call(e,i);var u=o.log||n.log||console.log.bind(console);u.apply(e,i)}}return o.namespace=e,o.enabled=n.enabled(e),o.useColors=n.useColors(),o.color=function(e){var o,t=0;for(o in e)t=(t<<5)-t+e.charCodeAt(o),t|=0;return n.colors[Math.abs(t)%n.colors.length]}(e),"function"==typeof n.init&&n.init(o),o}(n=e.exports=c.debug=c.default=c).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e),n.names=[],n.skips=[];for(var o=("string"==typeof e?e:"").split(/[\s,]+/),t=o.length,c=0;c<t;c++)o[c]&&("-"===(e=o[c].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){var o,t;for(o=0,t=n.skips.length;o<t;o++)if(n.skips[o].test(e))return!1;for(o=0,t=n.names.length;o<t;o++)if(n.names[o].test(e))return!0;return!1},n.humanize=o(282),n.names=[],n.skips=[],n.formatters={}},282:function(e){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=1e3,t=60*o,c=60*t,r=24*c;function i(e,n,o){if(!(e<n))return e<1.5*n?Math.floor(e/n)+" "+o:Math.ceil(e/n)+" "+o+"s"}e.exports=function(e,s){s=s||{};var a,u=n(e);if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(n){var i=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"days":case"day":case"d":return i*r;case"hours":case"hour":case"hrs":case"hr":case"h":return i*c;case"minutes":case"minute":case"mins":case"min":case"m":return i*t;case"seconds":case"second":case"secs":case"sec":case"s":return i*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===u&&!1===isNaN(e))return s.long?i(a=e,r,"day")||i(a,c,"hour")||i(a,t,"minute")||i(a,o,"second")||a+" ms":function(e){return e>=r?Math.round(e/r)+"d":e>=c?Math.round(e/c)+"h":e>=t?Math.round(e/t)+"m":e>=o?Math.round(e/o)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}},n={};function o(t){var c=n[t];if(void 0!==c)return c.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,o),r.exports}!function(){"use strict";var e="https:"===document.location.protocol,n=(new Date(2015,4,21,0,0,0,0).getTime(),"ckns_privacy"),t="ckns_explicit",c="july2019",r=["AT","AX","BE","BG","BL","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],i={"www.int.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","www.int.bbc.com":"https://www.int.bbc.com/cookieoven","www.test.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","www.test.bbc.com":"https://www.test.bbc.com/cookieoven","navigation.int.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","navigation.test.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","navigation.int.api.bbc.com":"https://www.test.bbc.com/cookieoven","navigation.test.api.bbc.com":"https://www.test.bbc.com/cookieoven","cookies.test.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven"};Promise.resolve().then((function(){var s=[o(229)];(function(o){var s,a=["usingthebbc."];function u(n,o,t){var c=new Date;c.setYear(c.getFullYear()+1),t||(t={domain:l(),path:"/",expires:c,sameSite:"None",secure:e});var r=function(n,o,t){t&&t.domain&&t.domain;var c=n+"="+(o=(o+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return c+=(t=t||{}).path?";path="+t.path:"",c+=t.domain?";domain="+t.domain:"",c+=t.expires?";expires="+t.expires.toUTCString():"",(c+=";sameSite="+t.sameSite||0)+(t.secure||e?";secure":"")}(n,o,t);document.cookie=r}function l(){try{return window.location.hostname.toLowerCase().match(/.*(bbc\.co\.uk|bbc\.com)\/*/)[1]}catch(e){return}}function d(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function p(e){var n=d(t);if(null===n)return!1;if("gb"===e||"row"===e)return n>="1";if("eu"===e)return"2"===n;throw new Error("region not recognised: "+e)}function f(e,n,o){n.style.display="none",o.style.display="none",e.className=""}function m(e,n,o,t,c){if(!p(t)){var r="eu"===t,i=function(e){for(var n=a,o=0;o<n.length;o++)if(e.search(n[o])>-1)return"full-screen";return"full-screen full-screen-bottom"}(c);n.style.display="none",o.style.display="inline-block",o.style.width="100%",e.className=r?i:""}}function b(e,n){var o=document.getElementById("cookiePrompt"),t=document.getElementById("bbcprivacy"),r=document.getElementById("bbccookies");document.getElementById("bbcprivacy-continue-button").addEventListener("click",(function(){f(o,t,r),m(o,t,r,e,n)})),document.getElementById("bbccookies-continue-button").addEventListener("click",(function(){f(o,t,r),w({ads:!0,personalisation:!0,performance:!0,necessary:!0})}));var i,a=document.getElementById("bbccookies-settings").getElementsByTagName("a")[0];a.addEventListener("click",(i=!1,function(e){i||(e.preventDefault(),w({ads:!1,personalisation:!1,performance:!1,necessary:!0}).then((function(){i=!0,a.click()})))})),m(o,t,r,e,n);var u=!1;null!=s&&s!==c&&(u=!0),u?function(e,n,o){n.style.display="inline-block",n.style.width="100%",o.style.display="none",e.className=""}(o,t,r):m(o,t,r,e,n)}function w(e){var n,o,t="?policy="+(e.ads?1:0)+(e.personalisation?1:0)+(e.performance?1:0),c=(n=window.location.host,i[n]||"https://www.".concat(l(),"/cookieoven"));return fetch("".concat(c).concat(t),{credentials:"include"}),o="bbc.co.uk"===l().match(/(bbc.co.uk|bbc.com)/)[0]?c.replace(".bbc.co.uk",".bbc.com"):c.replace(".bbc.com",".bbc.co.uk"),fetch("".concat(o).concat(t),{credentials:"include"})}function g(e,n,t,c){var r=function(e){var n="en";return"string"==typeof e&&e.length>=2&&(n=e.trim().substring(0,2).toLowerCase()),-1!==["en","cy","gd","ga"].indexOf(n)?n:"en"}(e),i=window.COOKIES_STATIC_HOST+"bbccookies.min.css",s=window.COOKIES_STATIC_HOST+r+".min.js";window.bbcpage.loadCSS(i).then(function(){o(s,{name:"cookiePrompt"},(function(e,o){var r=document.createElement("div");r.id="cookiePrompt",document.body.prepend(r);var i,s,a=o.replace(/<<bbcUrlPrefix>>/g,(i="https://www.bbc.com",(s=window.location.host.match(/(bbc(?:\.co\.uk))(:\d+)?(\/.*)?$/i))&&"bbc.co.uk"===s[1]&&(i=i.replace("bbc.com","bbc.co.uk")),i));r.innerHTML=a;for(var u=document.querySelectorAll("[data-region-filter]"),l=0;l<u.length;l++){var d=u[l];d.getAttribute("data-region-filter")!==t&&(d.style.display="none")}n(t,c)}))}.bind(this))}function y(n,o,t){var c=function(){var e=new Date;return e.setYear(e.getFullYear()+1),e}(),r=""+(n.ads?1:0)+(n.personalisation?1:0)+(n.performance?1:0),i=l();u("ckns_policy",r,{domain:i,path:"/",expires:c,crossDomainEnabled:o,sameSite:"None",secure:e});var s=new Date(c.getTime());return s.setMonth(s.getMonth()+1),u("ckns_policy_exp",c.getTime(),{domain:i,path:"/",expires:s,sameSite:"None",secure:e}),n}Promise.all([window.bbcuser.isUKCombined(),window.bbcuser.getCountry(),window.bbcpage.getLanguage(),window.bbcpage.getName()]).then((function(e){var o,i=e[0],a=e[1],l=e[2],f=e[3],m=-1!==r.indexOf(a.toUpperCase());if(p(o=i?"gb":m?"eu":"row")||(u(t,"0"),function(e){"gb"===e||"eu"===e?y({ads:!1,personalisation:!1,performance:!1,necessary:!0}):"row"===e&&y({ads:!0,personalisation:!0,performance:!0,necessary:!0})}(o)),"gb"===o||"eu"===o){var w=d(n)===c;s=d(n),w&&p(o)||g(l,b,o,f),u(n,c)}})).catch((function(){g("en",b,"gb","")}))}).apply(null,s)})).catch(o.oe)}()}();
//# sourceMappingURL=cookie-banners.bundle.js.map