undefined
!function(){var e=function(){function e(e,t){var n=e.exec(t);if(n){n.shift();return+n[0]}}function t(){var t=window.embeddedMedia.demi,o=t.ua,r=/ edge\//.test(o),s=/chrome/.test(o)&&!r,l=0,d=/trident/.test(o),c=0,u=/firefox/.test(o),p=0,m=/windows phone/.test(o),f="PlayStation 4"==navigator.platform;s&&(l=e(/chrome\/(\d+)(?:\.(\d*))?(?:\.(\d*))?(?:\.(\d*))?/,o));u&&(p=e(/firefox\/(\d+)(?:\.(\d*))?/,o));r&&(c=e(/edge\/(\d+)(?:\.(\d*))?/,o));var g=function(){var e=/mac/.test(o)&&!/like mac os x/.test(o),t={win:/windows/.test(o)&&!m,mac:e,macsafari:/safari/.test(o)&&e&&!s&&!r&&!m,ios:/like mac os x/.test(o),android:/android/.test(o)&&!r,playbook:/playbook/.test(o),opera:/opera/.test(o),blackberry:/blackberry/.test(o)||/bb10/.test(o),winphone:m,kindleSilk:/silk/.test(o),winwebview:/windows nt 10/.test(o)&&/webview/.test(o),win10arm:/windows nt 10\.[0-9]; arm/.test(o),kaios:/kaios/.test(o),phantomjs:/phantomjs/.test(o)};for(var n in t)t[n]&&(t.name=n);o.match(/webkit\/(\d*)/)&&(t.webkitVersion=parseFloat(RegExp.$1));if(t.macsafari){o.match(/version\/[^\d]*([\d|\.]+\d)/);t.safariVersion=parseFloat(RegExp.$1);o.match(/mac os x 10_([\[0-9)][\[0-9)])/);t.macosVersion=parseInt(RegExp.$1,10)}t.ios&&o.match(/os (\d+)/g)&&(t.ios=parseInt(RegExp.$1,10)||t.ios);if(t.android){var i=o.match(/android (\d+(?:[\.\d]*)+)/i);t.androidVersion=i?parseFloat(i[1]):99}return t}(),h={connection:{mobile:t.isMobileNetwork},os:g,hasHlsVodSupport:g.ios||g.macsafari||g.winwebview||g.win10arm||f,hasMseSupport:!!window.MediaSource};h.isMobileDevice=g.ios||g.android||g.blackberry||g.playbook||g.winphone||g.kaios||g.opera;h.isTabletDevice=g.kindleSilk||g.winwebview||g.win10arm||o.match(/ipad/)||o.match(/sm-t/)||o.match(/tablet/);if(h.os.webkitVersion>600&&(navigator.standalone===!0||navigator.standalone===!1)){h.isTabletDevice=!0;h.hasHlsVodSupport=!0}!h.hasMseSupport&&(h.os.macsafari&&h.os.safariVersion>=1||h.os.webkitVersion>600)&&(h.isMobileDevice=!0);if(d&&!g.winphone){h.isMobileDevice=!1;h.isTabletDevice=!1}h.isMobileOrTablet=h.isMobileDevice||h.isTabletDevice;if(h.os.blackberry&&!i){i=!0;o.match(/version\/\d+.(\d+.\d+)/);var y=parseFloat(RegExp.$1);y>3&&n.push("blackberry")}if(h.os.winphone&&0===a){o.match(/windows phone (\d+.\d+)/);a=parseFloat(RegExp.$1);a>=10&&n.push("winphone")}for(var v=0;n.length>v;v++)h.os[n[v]]&&(h.hasHlsVodSupport=!0);h.htmlAudio=h.os.androidVersion>=4.1||h.os.kindleSilk;h.preferHtmlAudio=t.isUK===!1&&h.os.androidVersion>=5;var b=/smart.+tv/.test(o)||/linux; netcast/.test(o);h.supportedFlash=!h.isMobileOrTablet&&!f&&!b;h.IE11=o.indexOf("trident/7.0")>0;h.supportsSvg=h.hasMseSupport&&!h.os.playbook||h.os.ios>=8||h.os.androidVersion>=4.4&&s||h.IE11;h.supportChromecast=s&&window.chrome;h.hybrid=h.hasMseSupport||!document.documentMode||document.documentMode>=11;h.winXP=o.indexOf("nt 5")>0;h.webgl=function(){try{var e=document.createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl")||e[t]("experimental-webgl"):"WebGLRenderingContext"in window}catch(n){return!1}}();h.support360=!(!h.webgl||g.ios&&11>g.ios||/(trident\/)|(MSIE\s)/i.test(o)&&!r||g.macsafari&&12>g.macosVersion);h.mediasetDesktop=!h.isMobileOrTablet&&(d||/windows nt/.test(o)||/x11/.test(o)||h.os.mac);return h}var n=[],i=!1,a=0;return{get:t}}(),t=function(){function e(e){if(a[e])for(;a[e].length>0;)a[e].pop()()}function t(e){if(2>l.length)return!0;for(var t=0;l.length>t;t++)if(l[t]==e)return!0;return!1}function n(e){if(!e||!/^[\-a-zA-Z]{1,20}$/.test(e))return"en";e=e.toLowerCase();var t={"en-gb":"en","cy-gb":"cy","gd-gb":"gd","ga-gb":"ga","ru-uk":"ru","uz-latn":"uz","uz-cyrl":"uz",zh:"zh-hans",sr:"sr-latn","pt-br":"pt"};return t[e]||e}var i={en:{pgHeader:"Parental Guidance Lock",pgAgeConfirmation:"I am aged 16 or over",pgClose:"Close pop up",pgContinue:"Continue",pgPasswordValidationError:"Please confirm your age before continuing",pgAriaAgeConfirmCheckBox:"Age confirmation check box. Checked.",pgAriaAgeConfirmCheckBoxUnchecked:"Age confirmation check box. Check to confirm you are sixteen or over.",pgTurnOnParentalGuidance:"Turn on the Parental Guidance Lock?",pgInfoPlusDownload:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose \u2018Turn On\u2019. To continue without Parental Guidance choose \u2018Download\u2019.</p>",pgInfoPlusPlay:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.<p>To set up your PIN choose \u2018Turn On\u2019. To continue without Parental Guidance choose \u2018Play\u2019.</p>",pgInfo:"lets you set up a PIN to control access to Guidance-labelled BBC content on your chosen browser.",pgTurnOn:"Turn On",toolTipPlay:"Play",pgEnterPIN:"Please enter a four-digit PIN",pgActivateInfo:"You will need your PIN to play Guidance-labelled content",pgPINValidationError:"Your PIN must be four digits",pgAriaPINEntryDescription:"PIN entry text field",pgAriaPINPrompt:"Please enter a valid four-digit PIN",pgEnterPINPrompt:"Please enter your four-digit PIN to continue",pgManageYourPIN:"Manage your PIN",pgUnlock:"Unlock",pgIncorrectPIN:"Incorrect PIN. Please try again",newPgTurnOnParentalGuidance:"Turn on Parental Guidance Lock?",newPgTurnOnParentalGuidancePINsection:"Turn on Parental Guidance Lock",newPgTurnOnParentalGuidanceInsertPIN:"Parental Guidance Lock",newPgTurnOn:"Turn on PG Lock",newToolTipPlay:"Play without PG Lock",findOutMore:"Find out more",notSuitableForChildMessage:"This programme may not be suitable for children. Turn on PG Lock and we'll ask you to set up a PIN to control who can watch BBC content with a Guidance label on this browser.",newPgAgeConfirmationUnder16:"I've got permission.",newUnder16WithPermission:"You're signed in as someone who\u2019s under 16. So you need permission from a parent or guardian to play this.",newPgPlay:"Play",newPgEnterPIN:"Please choose a four-digit PIN.",newPgPINvalidationError:"Your PIN must be four digits long.",newPgIncorrectPIN:"Wrong PIN. Please try again.",newPgManageYourPIN:"Manage your lock",newPgEnterPINprompt:"Please enter your four-digit PIN.",newPgActivateInfo:"You'll need this to play any content with a Guidance label.",newPgEnterPINinfo:"This programme has a Guidance label.",newAgeConfirmationTitle:"Guidance",pgUnder16PermissionValidationError:"Please confirm you have permission before continuing",playbackSettingsHeading:"Playback settings",autoplaySettingHeading:"Autoplay",autoplaySettingSubheading:"Play next item automatically",off:"OFF",on:"ON",pgDownload:"Download",pgActivate:"Activate",unableToEmbed:"Unable to embed player",errorUnsupported:"Your device is not currently supported",initialiseFailed:"Player failed to initialise",contentNotAvailableOnDevice:"This content is not currently available on this device.",defaultErrorMessage:"This content doesn't seem to be working.",flashNotAvailable:"This player no longer works properly on your device. You'll need to update your browser or device to continue.",deprecationMessageLongLink:"Find out how to keep watching and listening",embedTitle:"Embed This Media",embedDescription:"Copy the code below to share this content on your own site. Press escape to close",embedTerms:"Terms and conditions",embedClose:"Close",aaampPlay:"click to play",screenreaderDefaultIframeTitle:"Media Player"}},a={},o={},r={},s=5e3,l="cy,gd,ga,fr,ar,az,ha,hi,id,ky,es,so,sw,tr,ur,fa,ru,uk,vi,si,rw,ps,ne,my,zh-hans,zh-hant,uz,tg,pt,ta,bn,ja,pi,am,gu,ko,mr,om,pa,pcm,te,th,ti,yo,ig,sr-cyrl,sr-latn".split(","),d={getCode:n,add:function(t,n){clearTimeout(r[t]);i[t]=n;e(t)},load:function(l,d){l=n(l);if(!i[l]&&t(l)){if(d){a[l]||(a[l]=[]);a[l].push(d)}if(!o[l]){o[l]=!0;var c=document.createElement("script");c.type="text/javascript";c.charset="utf-8";c.async=!0;c.src="https://emp.bbci.co.uk/emp/translations/1.0.43/language."+l+".js";document.getElementsByTagName("head")[0].appendChild(c);clearTimeout(r[l]);r[l]=setTimeout(function(){e(l)},s)}}else d&&d()},t:function(e,t){t=n(t);return i[t]&&i[t][e]?i[t][e]:i.en[e]||e},getList:function(e){return i[e]},screenreaderAlert:function(e){var t=document.createElement("div"),n=document.createElement("p");n.textContent=n.innerText=e;t.setAttribute("role","alert");t.setAttribute("style","width: 1px; position: absolute; left: -2500px; overflow: hidden;");document.body.appendChild(t);t.style.display="none";t.style.display="block";setTimeout(function(){document.body.removeChild(t)},2500)}};return d}(),n=function(){function e(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e,t){t||(t=1);var n="position:relative;z-index:"+t+";height:100%;width:100%;";n+="padding-bottom:"+(e.superResponsive?"56.25%":"0");var i=document.createElement("div");i.setAttribute("style",n);return i}function a(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function o(e,t,n,i){n||(n=s);var a,r,l={};if(e)for(a in t)if(t.hasOwnProperty(a)&&(!i||!i[a])){r=t[a];a in e&&(e[a]===r||a in l&&l[a]===r)||(e[a]="object"==typeof e[a]&&null!==e[a]?o(e[a],r,n):n(r))}return e}function r(){var e=s(arguments[0]);if(e)for(var t=1;arguments.length>t;t++)arguments[t]&&(e=o(e,arguments[t],s));return e}function s(e,t){if(!e||"object"!=typeof e||e instanceof Date||e.nodeType||e.window==e)return e;var n,i,a;if(e instanceof Array||Array.isArray&&Array.isArray(e)){n=[];for(i=0,a=e.length;a>i;++i)i in e&&n.push(s(e[i]))}else n={};return o(n,e,s,t)}function l(){var e=document.createElement("video");return!(!e||!e.canPlayType)}function d(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttributeNS(null,i,t[i]);return n}function c(e,t,n){n=!!n;window.PointerEvent?e.addEventListener("pointermove",function(e){"mouse"==e.pointerType&&t(e)},n):e.addEventListener("mousemove",t,n)}function u(e,t,n){n=!!n;window.PointerEvent?e.addEventListener("pointerleave",function(e){"mouse"==e.pointerType&&t(e)},n):e.addEventListener("mouseleave",t,n)}function p(e,t,n){n=!!n;var i;if(window.PointerEvent)e.addEventListener("pointerdown",t,n);else{i=function(n){t(n);e.focus();n.preventDefault()};e.addEventListener("touchstart",i,n);e.addEventListener("mousedown",t,n)}return i}function m(e,t,n,i){i=!!i;if(window.PointerEvent)e.removeEventListener("pointerdown",t,i);else{e.removeEventListener("touchstart",n,i);e.removeEventListener("mousedown",t,i)}}function f(e,t,n){n=!!n;if(window.PointerEvent)e.addEventListener("pointerup",t,n);else{e.addEventListener("touchend",t,n);e.addEventListener("mouseup",t,n)}}function g(e,t,n){n=!!n;if(window.PointerEvent)e.removeEventListener("pointerup",t,n);else{e.removeEventListener("touchend",t,n);e.removeEventListener("mouseup",t,n)}}function h(e,t){var n=e+" "+t;n=n.trim().replace(/\s+/g,"\\b|\\b");return new RegExp("\\b"+n+"\\b","g")}function y(e,t){return e&&(e.className+"").indexOf(t)>-1}function v(e,t,n){if(e){var i=e.className;if(""!==i){i=i.replace(h(n||"",t),"").trim()+" "+t;e.className=i.trim().replace(/\s+/g," ")}else e.className=t}}function b(e,t,n,i){for(var a="object"==typeof t?t:t.split(/\s+/g),o=0;a.length>o;o++)e.addEventListener(a[o],n,i)}function w(e){var t=!1,n=function(){t=!1};return function(i){if(!t){e(i);t=!0;setTimeout(n,500)}}}function P(e){var t=e.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,i=window.scrollY||window.pageYOffset;return{top:t.top+i,left:t.left+n}}function _(){var e=document.getElementById("bump_stylesheet");if(!e){var t=document.getElementsByTagName("head")[0];e=document.createElement("link");e.id="bump_stylesheet";e.rel="stylesheet";e.href="https://emp.bbci.co.uk/emp/assets/2.0.27/bump-4.css";t.appendChild(e)}return e.sheet}function C(){var e=document.getElementById("bump_dynamic_stylesheet");if(!e){var t=document.getElementsByTagName("head")[0];e=document.createElement("style");e.id="bump_dynamic_stylesheet";t.appendChild(e)}return e.sheet}function k(e,t){for(var n=e.cssRules.length-1;n>=0;n--)for(var i=e.cssRules[n].cssText,a=0;t.length>a;a++)if(i.indexOf(t[a])!=-1){e.deleteRule(n);break}}function E(){function e(){clearTimeout(l);c=!0;for(var e=document.querySelectorAll(".p_bumpUI"),i=0;e.length>i;i++)n.className(e[i],"","nonPointerFocus");m=!1;l=setTimeout(t,250)}function t(){c=!1}function i(){if(!p&&!c&&!u&!m){for(var e=document.querySelectorAll(".p_bumpUI"),t=0;e.length>t;t++)n.className(e[t],"nonPointerFocus");m=!0}}function a(){clearTimeout(d);u=!0;d=setTimeout(function(){u=!1},250)}function o(){if(!f){if(window.PointerEvent)document.addEventListener("pointerdown",e,!0);else{document.addEventListener("touchstart",e,!0);document.addEventListener("mousedown",e,!0)}window.addEventListener("focus",a);document.addEventListener("focus",i,!0);f=!0}}function r(){if(window.PointerEvent)document.removeEventListener("pointerdown",e,!0);else{document.removeEventListener("touchstart",e,!0);document.removeEventListener("mousedown",e,!0)}window.removeEventListener("focus",a);document.removeEventListener("focus",i,!0);f=!1}function s(){p=!0;setTimeout(function(){p=!1},100)}var l,d,c=!1,u=!1,p=!1,m=!1,f=!1;return{addNonPointerFocusListeners:o,removeNonPointerFocusListeners:r,setMovingFocus:s,hasNonPointerFocus:function(){return m}}}return{nonPointerFocusListeners:E(),hasClass:y,throttleFn:w,multiAddEventListener:b,className:v,hoverMoveAction:c,hoverLeaveAction:u,downAction:p,removeDownAction:m,upAction:f,removeUpAction:g,createSVGElement:d,isObjectEmpty:e,mixin:o,clone:s,hasVideo:l(),getWrapper:i,merge:r,each:a,pageOffset:P,getBumpStylesheet:_,getDynamicStylesheet:C,deleteCssRulesContaining:k,addEmbeddedMedia:function(){if(window.embeddedMedia){window.embeddedMedia.playerInstances||(window.embeddedMedia.playerInstances={});window.embeddedMedia.players||(window.embeddedMedia.players=[]);isNaN(window.embeddedMedia.playerInits)&&(window.embeddedMedia.playerInits=0)}else window.embeddedMedia={players:[],playerInstances:{},playerInits:0};var e=window.embeddedMedia;if(!e.openCallbacks){e.openCallbacks=[];e.closedCallbacks=[];e.opened=function(t){for(var n=0;e.openCallbacks.length>n;n++)e.openCallbacks[n](t)};e.closed=function(t){for(var n=0;e.closedCallbacks.length>n;n++)e.closedCallbacks[n](t)}}e.addPlayer||(e.addPlayer=function(t,n){e.playerInstances[t]=n;e.players.push(n)});e.distributeConfigToPlayers||(e.distributeConfigToPlayers=function(t,n,i){var a=e.api.players();for(var o in a)o!=i&&a.hasOwnProperty(o)&&a[o].distributedConfig(t,n)});e.processConfigFromPlayer||(e.processConfigFromPlayer=function(t,n,i){var a=e.api.players()[i];a._settings.set("ui"==n?{ui:t}:t);e.distributeConfigToPlayers(t,n,i)});e.language||(e.language=t);if(!e.demi){e.demi={callbacks:[],ua:window.navigator.userAgent.toLowerCase()};if(window.orb&&window.orb.fig){var n=window.orb.fig,i=n.geo;i&&i.isUK&&(e.demi.isUK=1===i.isUK())}if(window.bbcuser&&window.bbcuser.isUKCombined){var a=window.bbcuser.isUKCombined();a.then&&a.then(function(t){e.demi.isUK=t})}var o="unknown",r=window.navigator.connection;if(r){var s=r.effectiveType;o=s?"4g"!=s?"cellular":"":r.type;e.demi.isMobileNetwork="cellular"===o}e.demiHelper={determineConnectionType:function(){}}}e.chromeCast||(e.chromeCast={castInterface:!1});e.sendEventToPlayers||(e.sendEventToPlayers=function(t,n,i){var a=e.players;a.forEach(function(e){e!==i&&e.call(t,n)})});return e}}}(),i=function(){function t(e,t){if(e)for(var n=0;e.length>n;n++){var i=e[n];if(i){var a=i.kind;if("radioProgramme"==a||"audio"==a||!t&&("programme"==a||"video"==a||"trailer"==a||"360"==a||void 0===a||null===a||""===a))return i}}return null}var i={mediasets:{desktop:"pc",cellular:"mobile-cellular-main",mobile:"mobile-phone-main",tablet:"mobile-tablet-main"},findProgramme:t,firstProgramme:function(e,n){return t(e&&e.items,n)},mediationUrls:function(e,t){var n="ediatorHref",a=i.mediaSet(t);e["samlM"+n]=e["m"+n]=i.mediatorHref(t,a);return a},mediaSet:function(t){if(t.mediator&&t.mediator.overrideMediaSet)return t.mediator.overrideMediaSet;if("background"==t.product)return"mobile-tablet-main";var i=n.addEmbeddedMedia(),a=t.mediasets=this.mediasets,o=e.get();return o.mediasetDesktop?a.desktop:i.demi.isMobileNetwork?a.cellular:o.isTabletDevice?a.tablet:a.mobile},mediatorHref:function(e,t){var i={href:"https://{host}/mediaselector/6/select/version/2.0/mediaset/{mediaset}/vpid/{id}/format/json/jsfunc/{callback}",host:"open.live.bbc.co.uk",mediaset:t};n.mixin(i,e.mediator);var a=i.href;n.each(i,function(e,t){a=a.replace("{"+e+"}",t)});return a}};return i}(),a=function(){function e(e){e&&e.getFullYear||(e=new Date);var t=Math.floor(1.25*e.getFullYear()),n=e.valueOf(),i=new Date(n);i.setMonth(2);i.setDate(31-(t+4)%7);i.setUTCHours(1);i.setUTCMinutes(0);i.setUTCSeconds(0);var a=new Date(n);a.setMonth(9);a.setDate(31-(t+1)%7);a.setUTCHours(1);a.setUTCMinutes(0);a.setUTCSeconds(0);return e>i&&a>e}function t(e,t,i){if("set"!=t&&"locale"!=t&&"playingAudio"!=t&&"posterUrl"!=t)if("playlistObject"==t||"today"==t)e[t]=i;else{var a="object"==typeof i;a?e[t]="object"==typeof l[t]?n.merge(e[t],i):i:"object"!=typeof e[t]&&(e[t]=i)}}function a(e,t,n){var i,a=n&&n.availableWidths&&"string"==typeof n.availableWidths?n.availableWidths:!1,o=a?a.split(","):d;if(e&&u.test(e)){var r=0;t&&t.width&&(r=t.width());(0===r||isNaN(r))&&(r=768);n&&n.densityMultiplier&&(r*=n.densityMultiplier);for(var s=o.length-1;s>0&&!(r/o[s]>.98);s--);var l=d[s]+"x"+c[s];i=a?o[s]:1024>=o[s]?o[s]:1536;return e.replace(/[\${]recipe}?/,l).replace(/[\${]width}?/,i)}}var o={iplayer:{guidanceCleared:!1,siteID:"iPlayer",defaultUiClass:"iplayer",ui:{guidance:{displayContinuousGuidanceInQueuePlaylist:!1}}},news:{ui:{colour:"#bb1919",alternateColour:"#bb1919",cta:{mode:"duration"}},preferPlainOverDash:!0,guidanceCleared:!0,siteID:"News",defaultUiClass:"news"},sport:{ui:{colour:"#eed71c",foreColour:"#000000",alternateColour:"#0087ff",alternateForeColour:"#ffffff",accessibility:{enhanceBrightColoursContrast:!0}},siteID:"Sport",defaultUiClass:"sport",guidanceCleared:!0},background:{muted:!0,autoplay:!0},generic:{ui:{colour:"#ebebeb",foreColour:"#101010"},guidanceCleared:!0}},r="true"=="true",s={locale:{lang:"en",path:"https://emp.bbci.co.uk/emp/translations/1.0.43/{lang}.xml"},subtitles:{supportLiveSubtitles:!0},thumbnail:{enabled:!0},colour:"#ff4c98",foreColour:"#ffffff",alternateColour:"#f54997",alternateForeColour:"#ffffff",guidance:{pgColour:"#ff4c98",pgSeparatorColour:"#252833",pgBackgroundColour:"#0c101c"},cta:{direction:null},playbackSettingsPanel:{enabled:!1,continuousPlaySetting:!1,overlayColour:"rgba(48,48,48,0.6)"},poster:{availableWidths:""}},l={playlist:"",startTime:0,volume:.7,overrideHoldingImage:"",product:"iplayer",today:new Date,guidance:{},mediator:{},experimentalDashPercentage:parseFloat("0"),includeAppClickHandler:!0,plugins:{toLoad:[]},quality:"hd",uiClass:"",enableStatsReporting:!0,customRdotBaseURL:"https://r.bbci.co.uk/e",autoplay:!1,enableRdotReporting:!0,enableSonarReporting:!0,enableBarbReporting:!0,enableAtiReporting:!0,statsObject:{},embedPageURL:location.href,forceGuidance:"",appName:"",appType:"",counterName:"smp.player.page",siteID:"",significantTime:10,playerType:"",namedPlugins:{"dfpAds.js":"//emp.bbci.co.uk/plugins/dfpAdsHTML/5.5.0/js/dfpAds.js","continuousPlay.js":"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.6.7/js/onwardJourney.js","preview.js":"//emp.bbci.co.uk/plugins/preview/1.1.0/js/preview.js","onwardJourney.js":"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.6.7/js/onwardJourney.js","smp-ads-plugin-toucan.js":"//emp.bbci.co.uk/plugins/toucanAds/1.1.0/smp-ads-plugin-toucan.js","OnwardJourneyToucan.js":"//emp.bbci.co.uk/plugins/toucanOj/1.1.3/live/OnwardJourneyToucan.js","audioSegments.js":"//emp.bbci.co.uk/plugins/adhoc/0.3/Segments.js"},pluginUpgrades:{toucan:{"//emp.bbci.co.uk/plugins/dfpAdsHTML/5.5.0/js/dfpAds.js":{url:"//emp.bbci.co.uk/plugins/toucanAds/1.1.0/smp-ads-plugin-toucan.js",module:!0},"//emp.bbci.co.uk/plugins/onwardJourneyHTML/2.6.7/js/onwardJourney.js":{url:"//emp.bbci.co.uk/plugins/toucanOj/1.1.3/live/OnwardJourneyToucan.js",module:!0}}},suppressType:[],suppressItemKind:[],responsive:!0,ui:{},webcastData:{},liveEnvironment:r,over16:!1,under16:!1,backgroundSettings:{},threeSixty:!1,disablePreload:!1,skipInterval:10,embeddedOffsite:!1,androidReceiverCompatible:!1},d=[320,384,432,480,512,608,640,688,720,768,800,832,976,1024,1376,1920],c=[180,216,243,270,288,342,360,387,405,432,450,468,549,576,774,1080],u=new RegExp("^//|^http[s]{0,1}://","i"),p=function(e){this.SettingsChangedListeners=[];return this.init(e)};p.prototype={set:function(n,i){var a=this,o=a.locale();if("object"==typeof n)for(var r in n)n.hasOwnProperty(r)&&t(a,r,n[r]);o!=a.locale()&&window.embeddedMedia.language.load(a.locale());for(r in a.webcastData)if(a.webcastData.hasOwnProperty(r)){var s=a.webcastData[r];"[object Date]"===Object.prototype.toString.call(s)&&(a.webcastData[r]=s.getTime()/1e3)}a.isBSTime=e(a.today);this.fireSettingsChangedListeners();if(!i&&"continuousPlay"in n){var l={continuousPlay:a.continuousPlay};window.embeddedMedia.distributeConfigToPlayers(l,"",a.domid)}return a},fireSettingsChangedListeners:function(){for(var e=0;this.SettingsChangedListeners.length>e;e++)this.SettingsChangedListeners[e](this)},addSettingsChangedListener:function(e){this.SettingsChangedListeners.push(e)},init:function(e){var i=this,a=n.clone(l);for(var r in a)a.hasOwnProperty(r)&&(i[r]=a[r]);"object"!=typeof e&&(e={});var d=e.product||l.product,c=o[d]||o.generic;for(r in c)if(c.hasOwnProperty(r)){var u=c[r];t(i,r,u)}i.ui=n.merge(n.clone(s),c.ui);var p=window.navigator.connection;p&&i&&i.saveData!==!1&&(i.saveData=p.saveData?!0:!1);var m="";try{m=document.cookie+""}catch(f){}if(!e.allowTracking){for(var g=!1,h=["bbc.co.uk","bbc.com","britbox.com","bbcconnectedstudio.co.uk"],y=0;h.length>y;y++)location.host.indexOf(h[y])!==-1&&(g=!0);g||(i.noTracking=!0)}m.match(/NO-SA=1/)&&(i.noTracking=!0);m.match(/html5Debug=true/)&&(i.html5Debug=!0);if(e.enableToucan!==!1){var v=(""+e.counterName).split(".")[0];("weather"==v||"food"==v)&&(i.enableToucan=!0)}return i.set(e)},locale:function(){return this.ui.locale.lang},playingAudio:function(){var e=this;if(e.willPlayAudio)return!0;var t=i.firstProgramme(e.playlistObject);return t?"radioProgramme"==t.kind||"audio"==t.kind:!0},posterUrl:function(e){var t=this._poster||this.playlistObject&&this.playlistObject.holdingImageURL||this.overrideHoldingImage;return a(t,e,this.ui.poster)}};return p}(),o=function(){function e(e,n,i,a,o,r){var s=e._toggleSetting=document.createElement("div");n&&(s.id=n);s.className=i?"p_toggle_setting "+i:"p_toggle_setting";s.setAttribute("role","checkbox");s.setAttribute("aria-checked","false");a&&s.setAttribute("aria-label",a);s.tabIndex=0;var l=document.createElement("div");l.className="p_toggleText";var d=document.createElement("div");d.className="p_toggleHeading";d.textContent=o;var c=document.createElement("div");c.className="p_toggleSubheading";c.textContent=r;var u=document.createElement("div");u.className="p_toggleSlot";var p=document.createElement("div");p.className="p_toggleSlider";var m=document.createElement("div");m.className="p_toggleTick";l.appendChild(d);l.appendChild(c);s.appendChild(l);p.appendChild(m);u.appendChild(p);s.appendChild(u);t(e,s);return s}function t(e,t){t.addEventListener("click",function(){e.disabled||e.flip("click")});t.addEventListener("keydown",function(t){if(!e.disabled){var n=t.keyCode;(32==n||13==n)&&e.flip("keydown")}})}function i(e,t,n){for(var i=0;e.changeListeners.length>i;i++)e.changeListeners[i](t,n)}function a(e){var t=e.settings.ui.colour;n.deleteCssRulesContaining(e.stylesheet,["#"+e.id]);e.stylesheet.insertRule("#"+e.id+".p_toggleOn .p_toggleSlot { background-color: "+t+"; border-color: "+t+"; }",e.stylesheet.cssRules.length);e.stylesheet.insertRule("#"+e.id+" .p_toggleSlider .p_toggleTick { border-color: "+t+"; }",e.stylesheet.cssRules.length);e.stylesheet.insertRule(".nonPointerFocus #"+e.id+":focus { box-shadow: "+t+" 0px 0px 0px 3px inset; }",e.stylesheet.cssRules.length)}var o=function(t,i,o,r,s,l,d){var c=this;this.id=i;this.settings=t;this.locale=d;this.changeListeners=[];this.disabled=!1;this._on=!1;e(this,i,o,r,s,l);this.stylesheet=n.getDynamicStylesheet();this.settings.addSettingsChangedListener(function(){a(c)});a(c)};o.prototype={getDomNodes:function(){return[this._toggleSetting]},flip:function(e){"true"==this._toggleSetting.getAttribute("aria-checked")?i(this,"turningOff",e):i(this,"turningOn",e)},setOn:function(){this._toggleSetting.setAttribute("aria-checked","true");n.className(this._toggleSetting,"p_toggleOn");this._on=!0},setOff:function(){this._toggleSetting.setAttribute("aria-checked","false");n.className(this._toggleSetting,"","p_toggleOn");this._on=!1},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},attachChangeListener:function(e){this.changeListeners.push(e)},updateLanguage:function(){}};return o}(),r=function(){function e(e){this._settings=e;var t=this;window.__onGCastApiAvailable=function(e){e&&t._init()};var n=document.createElement("script");n.async=!0;n.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";document.getElementsByTagName("head")[0].appendChild(n);this.sendCastIconState=this.sendCastIconState.bind(this)}e.prototype={_getAppId:function(){var e="1F306A22";this._settings.forceCastReceiver?e=this._settings.forceCastReceiver:"iplayer"==this._settings.product?e="2BA92214":"sport"==this._settings.product?e="15983BD8":"sounds"==this._settings.product&&(e="D350F6A9");return e},_isAndroidReceiverCompatible:function(){return!!this._settings.androidReceiverCompatible},_init:function(){this._castContext=cast.framework.CastContext.getInstance();this._castContext.setOptions({receiverApplicationId:this._getAppId(),androidReceiverCompatible:this._isAndroidReceiverCompatible(),autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED});this._castContext.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.sendCastIconState);this.sendCastIconState();this._addRemotePlayerListeners();this.initialised=!0},_addRemotePlayerListeners:function(){var e=this;this._remotePlayer=new cast.framework.RemotePlayer;this._remotePlayerController=new cast.framework.RemotePlayerController(this._remotePlayer);this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,function(){e._remotePlayer.isConnected?e._connected():e._disconnected()});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,function(t){e.sendToLoadedPlayer({event:"timechange",time:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,function(t){e.sendToLoadedPlayer({event:"durationchanged",duration:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,function(t){e.sendToLoadedPlayer({event:"ispausedchanged",ispaused:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.LIVE_SEEKABLE_RANGE_CHANGED,function(){});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,function(t){e.sendToLoadedPlayer({event:"ismedialoadedchanged",ismedialoaded:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,function(t){e.sendToLoadedPlayer({event:"mutedchanged",muted:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,function(t){e.sendToLoadedPlayer({event:"volumechanged",volume:t.value})});this._remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,function(t){var n;switch(t.value){case chrome.cast.media.PlayerState.IDLE:n="IDLE";break;case chrome.cast.media.PlayerState.PLAYING:n="PLAYING";break;case chrome.cast.media.PlayerState.PAUSED:n="PAUSED";break;case chrome.cast.media.PlayerState.BUFFERING:n="BUFFERING"}e.sendToLoadedPlayer({event:"playerstatechanged",state:n})})},_connected:function(){var e=this;this._castSession=this._castContext.getCurrentSession();if(this._requestPlayer){this.loadMedia(this._requestPlayer);this._requestPlayer=null}this._castSession.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,function(){if(!e.loading){e._loadedPlayer=null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"notCasting",state:e.translateCastState(e._castContext.getCastState())})}});this._castSession.addMessageListener("urn:x-cast:uk.co.bbc.general",function(t,n){var i=JSON.parse(n);switch(i.type){case"subtitlesPreference":e.sendToLoadedPlayer({event:"subson",on:!!i.value})}})},_disconnected:function(){this._castSession=null;this._requestPlayer=null;this._loadedPlayer=null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"disconnect"})},sendToLoadedPlayer:function(e){this._loadedPlayer&&this._loadedPlayer.call("ccInfo",e)},sendToRequestPlayer:function(e){this._requestPlayer&&this._requestPlayer.call("ccInfo",e)},isConnected:function(){return!!this._castSession},requestSession:function(){var e=this,t=this._castContext.requestSession();t.then(function(){},function(){e.sendToRequestPlayer({event:"requestfailed"})})},hasSubs:function(e){if(e&&e.tracks)for(var t=0;e.tracks.length>t;t++)if(e.tracks[t].type==chrome.cast.media.TrackType.TEXT)return!0;return!1},loadMedia:function(e){var t=this,n=e.mediaItem(),i=e.loadedPlaylist();this.loading=!0;if(this.isConnected()){var a=new chrome.cast.media.MediaInfo(n.identifier),o=new chrome.cast.media.GenericMediaMetadata;o.title=i.title?i.title:"";o.subtitle=i.summary?i.summary:"";if(i.posterImg){var r=new chrome.cast.Image(i.posterImg.replace("{recipe}","1280x720").replace("$recipe","1280x720"));r.width=1280;r.height=720;o.images=[r]}a.metadata=o;a.customData={secondary_title:i.summary?i.summary:""};n.castConnectUrl&&(a.customData.connect=n.castConnectUrl);e._settings.counterName&&(a.customData.counterName=e._settings.counterName);a.streamType=n.isLive?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED;var s=new chrome.cast.media.LoadRequest(a);s.currentTime=e.currentTime();this._castSession.loadMedia(s).then(function(){t.loading=!1;t._loadedPlayer=e;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"notCasting",state:t.translateCastState(t._castContext.getCastState())},t._loadedPlayer);t._loadedPlayer.call("ccInfo",{event:"loadedMedia",duration:t._remotePlayer.duration,currentTime:t._remotePlayer.currentTime,isPaused:t._remotePlayer.isPaused,hasSubs:t.hasSubs(t._remotePlayer.mediaInfo)});var n=t._castSession.getMediaSession();n.addUpdateListener(function(){n.idleReason==chrome.cast.media.IdleReason.FINISHED&&t.sendToLoadedPlayer({event:"ended"})})},function(){t.loading=!1})}else{this._requestPlayer=e;this.requestSession()}},pause:function(){this._remotePlayerController.playOrPause()},play:function(){this._remotePlayerController.playOrPause()},seek:function(e){this._remotePlayer.currentTime=e;this._remotePlayerController.seek()},translateCastState:function(e){var t={};t[cast.framework.CastState.NO_DEVICES_AVAILABLE]="no_devices";t[cast.framework.CastState.NOT_CONNECTED]="not_connected";t[cast.framework.CastState.CONNECTING]="connecting";t[cast.framework.CastState.CONNECTED]="connected";return t[e]},sendCastIconState:function(){var e=this._castContext.getCastState(),t=this._castContext.getCurrentSession(),n=t&&t.getCastDevice()?t.getCastDevice().friendlyName:null;window.embeddedMedia.sendEventToPlayers("ccInfo",{event:"CASTSTATE",value:this.translateCastState(e),deviceName:n})},subtitlesOn:function(){if(this._castSession){var e=new chrome.cast.media.EditTracksInfoRequest;e.enableTextTracks=!0;this._castSession.getMediaSession().editTracksInfo(e,function(){},function(){})}},subtitlesOff:function(){if(this._castSession){var e=new chrome.cast.media.EditTracksInfoRequest;e.enableTextTracks=!1;this._castSession.getMediaSession().editTracksInfo(e,function(){},function(){})}},setVolume:function(e){this._castSession&&this._castSession.setVolume(e)},setMuted:function(e){this._castSession&&this._castSession.setMute(e)}};return e}(),s={show:function(e){s._embedBox&&s.close(!0);var t=e._settings,n=t.locale(),a=encodeURIComponent(t.product),o=encodeURIComponent(e.playlist.title),r=t.externalEmbedUrl||"";if(r){r.indexOf("{cpid}")!=-1&&e._statsObject.clipPID&&(r=r.replace("{cpid}",e._statsObject.clipPID));if(r.indexOf("{vpid}")!=-1){var l=i.firstProgramme(e.playlist);l&&(r=r.replace("{vpid}",l.identifier))
}r=r.replace("{lang}",n)}else{if(e.playlist.url)var d=e.playlist.url;else t.playlistObject&&(d=t.playlistObject.legacyPlaylist);if(d){r="https://emp.bbc.co.uk/emp/embed/smpEmbed.html?playlist="+encodeURIComponent(d)+"&title="+o+"&product="+a;"en"!=n&&(r+="&lang="+n)}}if(r){var c=!t.ui.disableReithFonts;window.embeddedMedia.opened();var u="width: 100%;"+"height: 100%;"+"margin: 0;"+"position: fixed;"+"z-index: 1000;"+"top: 0;"+"left: 0;"+"background-color: #000;"+"opacity: 0.5;";s._background=document.createElement("div");s._background.id="embedBackground";s._background.style.cssText=u;s._embedBox=document.createElement("div");s._embedBox.id="embedBox";s._embedBox.setAttribute("role","alertdialog");s._embedBox.setAttribute("aria-labelledby","embedMediaTitle");s._embedBox.setAttribute("aria-describedby","embedMediaDescription");var p="position: fixed;"+"width: 400px;"+"max-width: 90%;"+"height: 160px;"+"bottom: 0;"+"left: 0;"+"top: 0;"+"right: 0;"+"margin: auto;"+"color: white;"+"font-size: 22px;"+"z-index: 1001;"+"background-color: #262626;";document.documentElement.className.indexOf("b-reith-sans-font")>=0&&c?s._embedBox.className="font-family-sans":p+="font-family: helvetica, Arial, sans-serif;";s._embedBox.style.cssText=p;var m=window.embeddedMedia.language,f=m.t("embedTitle",n),g=m.t("embedDescription",n),h=m.t("embedTerms",n),y=m.t("embedClose",n),v=document.createElement("span");v.id="embedMediaTitle";v.style.cssText="position: absolute;"+"left: 0;"+"margin-left: 10%;"+"margin-top: 6%";v.textContent=f;s._embedBox.appendChild(v);var b=document.createElement("span");b.id="embedMediaDescription";b.style.cssText="display: none";b.setAttribute("aria-hidden","true");b.textContent=g;s._embedBox.appendChild(b);var w="position: absolute;"+"width: 80%;"+"height: 30px;"+"top: 50%;"+"left: 0;"+"margin-top: -15px;"+"margin-left: 10%;"+"font-size: 14px;"+"color: #848484;",P='<iframe width="400" height="500" frameborder="0" src="'+r+'"></iframe>';t.externalEmbedCode&&(P=(t.externalEmbedCode+"").replace("{url}",r));var _=document.createElement("input");_.id="embedText";_.type="text";_.value=P;_.style.cssText=w;_.addEventListener("click",function(){_.select()});setTimeout(function(){_.focus()},100);s._embedBox.appendChild(_);var C="position: absolute;"+"bottom: 0;"+"left: 0;"+"margin-bottom: 6%;"+"margin-left: 10%;"+"font-size: 0.6em;"+"color: #ffffff;"+"text-decoration: none;",k=document.createElement("a");k.target="_blank";k.href="https://www.bbc.co.uk/usingthebbc/terms-of-use/";k.textContent=h;k.style.cssText=C;s._embedBox.appendChild(k);var E="position: absolute;"+"right: 0px;"+"font-size: 0.8em;"+"top: 0px;"+"margin-top: 10px;"+"margin-right: 10px;"+"color: #ffffff;"+"text-decoration: none;"+"cursor: pointer;",x=document.createElement("a");x.setAttribute("aria-label",y);x.href="#";x.textContent="x";x.style.cssText=E;s._embedBox.appendChild(x);x.addEventListener("click",function(e){e.preventDefault();s.close()});s._tabList=[_,k,x];s._currentTab=0;for(var S=function(e){var t=e.keyCode||e.which;switch(t){case 27:e.preventDefault();s.close();break;case 9:e.preventDefault();var n=s._tabList.length-1;s._currentTab=e.shiftKey?0===s._currentTab?n:s._currentTab-1:s._currentTab===n?0:s._currentTab+1;setTimeout(function(){s._tabList[s._currentTab].focus()},200)}},T=0;s._tabList.length>T;T++)s._tabList[T].addEventListener("keydown",S);document.body.appendChild(s._background);document.body.appendChild(s._embedBox)}},close:function(e){var t=this;e||window.embeddedMedia.closed();if(t._background){t._background.parentNode.removeChild(t._background);t._background=void 0}if(t._embedBox){t._embedBox.parentNode.removeChild(t._embedBox);t._embedBox=void 0}}},l=function(){function e(){this.includePoster=!0;this._volume=1;return this}e.prototype={name:function(){return this._name},uiDefaults:function(e){var t=this._settings,n=t.ui;n.guidance||(n.guidance={});t.guidanceCleared||n.guidance.pinRequired!==!1&&(n.guidance.pinRequired=!0);if(e.isMobileOrTablet){n.controls||(n.controls={volumeSlider:!1});n.controls.popout=!1;n.controls.volumeSlider||(n.controls.volumeSlider=!1);t.volume=1}if(1!=window.devicePixelRatio&&!e.connection.mobile&&!t.lowBandwidth){n.poster||(n.poster={});n.poster.densityMultiplier||(n.poster.densityMultiplier=t.saveData?.8:window.devicePixelRatio)}e.supportsSvg&&n.useHighResIcons!==!1&&(n.useHighResIcons=!0);var i="";i=window.getComputedStyle&&this._settings.container?window.getComputedStyle(this._settings.container).direction:this._settings.container.currentStyle.direction;n.cta&&null===n.cta.direction&&(n.cta.direction="rtl"==i?"rtl":"ltr");var a=!1;try{var o=/[; ]ck[pn]s_smpSettings=([^\s;]*)/gim;o.test(" "+document.cookie);if(RegExp.$1){var r=JSON.parse(decodeURIComponent(RegExp.$1));n.allowAudioControlsToHide|=r.allowAudioControlsToHide;if(r.controls){n.controls||(n.controls={});n.controls.timeout=r.controls.timeout;n.controls.sizeAdjust=r.controls.sizeAdjust;n.controls.spaceControlsPlayback|=r.controls.spaceControlsPlayback;n.controls.experimentalShortcuts|=r.controls.experimentalShortcuts;n.controls.activeStartsAt=r.controls.activeStartsAt;n.controls.chromecastMode=r.controls.chromecastMode;n.controls.speed|=r.controls.speed}if(r.subtitles){n.subtitles||(n.subtitles={});n.subtitles.contrast=r.subtitles.contrast;n.subtitles.sizeAdjustment=r.subtitles.sizeAdjustment;n.subtitles.supportLiveSubtitles|=r.subtitles.supportLiveSubtitles}r.quality&&(t.quality=r.quality);a=!0}}catch(s){}},destroy:function(){this._container&&(this._container.innerHTML="")},call:function(){},play:function(e){this.call("play",e)},stop:function(){this.call("stop")},suspend:function(){this.call("suspend")},pause:function(){this.call("pause")},next:function(e){this.call("next",e)},previous:function(e){this.call("previous",e)},pauseAt:function(e){if(e){e=e instanceof Array?e:[e];this.call("pauseAt",e)}},muted:function(e){if("undefined"!=typeof e){this._muted=e;this.call("muted",e)}return this._muted},volume:function(e){if("number"==typeof e){this._volume=e;this.call("volume",e)}return this._volume},duration:function(){return this._duration},ended:function(){return this._ended},seeking:function(){return this._seeking},paused:function(){return this._paused},kind:function(){return this._kind},mediaItem:function(){return this._mediaItem},loadedPlaylist:function(){return this.playlist},currentTime:function(e){"number"==typeof e&&this.call("currentTime",e);return this._currentTime},showSubtitles:function(e){this.call("showSubtitles",e)},setData:function(e){if(e)if(e instanceof Array)for(var t=0;e.length>t;t++)this.call("setData",e[t]);else this.call("setData",e)},playbackRate:function(e){if("number"==typeof e&&e>0){this._playbackRate=e;this.call("playbackRate",e)}return this._playbackRate},updateQuality:function(e){this.call("updateQuality",e)},onAdsProcessed:function(e){this.call("onAdsProcessed",e)},webcastData:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];"[object Date]"===Object.prototype.toString.call(n)&&(e[t]=n.getTime()/1e3)}},loadPluginWithCheck:function(e,t){for(var n=["eavis","endSlate"],i=e.url+"",a=0;n.length>a;a++)if(i.indexOf(n[a])>-1)return;if(0===i.indexOf("name:")){var o=this._settings.namedPlugins,r=!1,s=i.split("name:");if(2==s.length)for(var l in o)if(s[1]===l){e.url=o[l];r=!0;break}if(!r)return}var d=this._settings.pluginUpgrades&&this._settings.pluginUpgrades[this._name];if(d){var c=d[e.url];if(c){e.url=c.url;var u=c.module;(u===!0||u===!1)&&(e.module=u)}}this.call(t||"loadPlugin",e)},before:function(){var e=this,t=e._settings;e.ready=!0;e.volume(t.volume);e.muted(t.muted);e._lastSignificant=t.startTime},started:function(e){var t=this,n=t._settings;e.supportChromecast&&n.allowCasting&&window.embeddedMedia.chromeCast.castInterface&&window.embeddedMedia.chromeCast.castInterface.initialised&&window.embeddedMedia.chromeCast.castInterface.sendCastIconState();window.addEventListener?window.addEventListener("beforeunload",function(){t.call("stop",{destroy:!0})}):window.attachEvent&&window.attachEvent("onbeforeunload",function(){t.call("stop",{destroy:!0})});var i=window.embeddedMedia.parentalGuidance;i.updateCallbacks.push(function(e){n.guidance=e;e.noPin=n.guidanceCleared;t.call("updateGuidance",e)});i.closedCallbacks.push(function(e){if(t.resizePlayer){t.call("guidanceClosed",[e]);t.resizePlayer();setTimeout(function(){t.resizePlayer&&t.resizePlayer()},500)}"html"==t.type&&t._gCalled&&e&&!t._lockClicked&&t.play(!0);t._gCalled=!1})},processEvent:function(e,t,i){var a=e.type;t=t||{};var o=this;for(var r in t)if("type"!=r){e[r]=t[r];"currentDuration"==r&&(e.duration=t[r])}var l=window.embeddedMedia.chromeCast.castInterface;switch(a){case"ccRequestSession":l.requestSession();break;case"ccLoadMedia":l.loadMedia(this);break;case"ccPause":l.pause();break;case"ccPlay":l.play();break;case"ccSeek":l.seek(i.seekTime);break;case"ccSubsOn":l.subtitlesOn();break;case"ccSubsOff":l.subtitlesOff();break;case"ccVolume":l.setVolume(i.volume);break;case"ccMuted":l.setMuted(i.muted);break;case"timeupdate":o._currentTime=t.currentTime;o._duration=t.duration;if(Math.abs(o._currentTime-o._lastSignificant)>o._settings.significantTime){var d={type:"significanttimeupdate"};for(r in t)"type"!=r&&(d[r]=t[r]);o._lastSignificant=o._currentTime;o.trigger(d)}break;case"seeked":o._seeking=!1;"number"==typeof t.currentTime&&(o._currentTime=t.currentTime);break;case"seeking":o._seeking=!0;"number"==typeof t.currentTime&&(o._currentTime=t.currentTime);break;case"ratechange":o._playbackRate=t.playbackRate;break;case"playlistEnded":case"ended":o._playing=!1;o._ended=!0;break;case"pause":o._paused=!0;break;case"playing":o._playing=!0;o._paused=!1;o._ended=!1;o._kind=e.kind;break;case"playlistLoaded":o._playing=!1;o._seeking=!1;o._paused=!0;o._ended=!1;o.playlist=t.playlist;var c=o.reloadScope;c&&c.loadingData&&!c.loadingData.playlist&&(c.loadingData.playlist=c.loadingData.now());break;case"mediaItemChanged":o._currentTime=0;o._lastSignificant=0;o._mediaItem=e.mediaItem;break;case"linkRequest":("managePIN"===t.type||"PGinfo"===t.type)&&window.open("//www.bbc.co.uk/iplayer/guidance","pg");break;case"embed":if(o.playlist){o._restoreFocus=!0;s.show(o)}break;case"setPIN":window.embeddedMedia.parentalGuidance.setPIN(t.PIN);break;case"setGuidanceSkipped":window.embeddedMedia.parentalGuidance.setAgeConfirmation(t.skipped);break;case"guidanceLocked":window.embeddedMedia.parentalGuidance.setLocked(t.locked,!0);break;case"guidanceClosed":window.embeddedMedia.parentalGuidance.close(void 0,!0);break;case"setUnder16Permission":window.embeddedMedia.parentalGuidance.setUnder16Permission(t.hasPermission);break;case"configFromPlayer":window.embeddedMedia.processConfigFromPlayer(e.config,"",o._settings.domid);break;case"uiConfigFromPlayer":window.embeddedMedia.processConfigFromPlayer(e.config,"ui",o._settings.domid);break;case"addBumpPlaybackSettingsPanel":o.playbackSettingsPanel||(o.playbackSettingsPanel=new w(o));break;case"showBumpPlaybackSettingsPanel":if(o.playbackSettingsPanel){o.playbackSettingsPanel.showPanel(e.x,e.y);e.nonPointerFocus?o.playbackSettingsPanel.setNonPointerFocus():o.playbackSettingsPanel.removeNonPointerFocus();n.nonPointerFocusListeners.setMovingFocus();o.playbackSettingsPanel.focus()}break;case"repositionBumpPlaybackSettingsPanel":o.playbackSettingsPanel&&o.playbackSettingsPanel.repositionPanel(e.x,e.y);break;case"closeSettingsPanels":b.closeSettingsPanels()}},setPoster:function(e,t){this.ready&&e&&this.call("setPoster",{url:e,effect:t})},getLeft:function(){return n.pageOffset(this._container).left},getTop:function(){return n.pageOffset(this._container).top},showBumpPlaybackSettings:function(){this.playbackSettingsPanel&&this.playbackSettingsPanel.showBottomPanel()},settings:function(e){if(e){this._settings.set(e);this.updateConfig(e)}return this._settings},persistSettings:function(){},queuePlaylist:function(){},setPreviousPlaylist:function(){},updateMediaset:function(){console.error("updateMediaset does nothing")},loadPlaylist:function(){},resetForPlaylist:function(){},captureIntent:function(){},updateUiConfig:function(){},updateConfig:function(){},distributeConfig:function(){}};return e}(),d=function(){function e(){this.type="html";this.includePoster=!1;this.backgroundPlayer=null;return this}var t=e.prototype;t._name="smp-html-background";t.compatibility=function(e){return"background"==e.product&&n.hasVideo&&!e.disableHtml?!0:!1};t.embed=function(e,t){var n=this;i.mediationUrls(e,e,!0);n._settings=e;n._container=e.container;n._container.innerHTML="";var a=e.html5Debug?"https://emp.bbci.co.uk/emp/htmlbackground/1.0.6/backgroundplayer.js":"https://emp.bbci.co.uk/emp/htmlbackground/1.0.6/backgroundplayer.min.js";if(!window.require)throw"No require available, smp-html-background requires require.";require([a],function(i){n.backgroundPlayer=new i(n._container,e,n);t(n,{markers:!1,queuedPlaylist:!1,inPage:!0,chromecast:!1,overlay:!1})})};t.loadPlaylist=function(){this.backgroundPlayer&&this.backgroundPlayer.loadPlaylist(this._settings)};t.play=function(){this.backgroundPlayer&&this.backgroundPlayer.play()};t.pause=function(){this.backgroundPlayer&&this.backgroundPlayer.pause()};t.muted=function(e){return this.backgroundPlayer?this.backgroundPlayer.muted(e):void 0};t.volume=function(e){return this.backgroundPlayer?this.backgroundPlayer.volume(e):void 0};return e}(),c=function(){var e=function(e){var t=this,n=document.getElementById(e);t._receiveKey=e+Math.random();n&&n.contentWindow&&(t._postElement=n.contentWindow);t._url=n.src;t._listeners={};t.post({initXD:{receiveKey:t._receiveKey}});t.receive(function(e){if(e.data){var n=e.data.type,i=e.data.data,a=t._listeners[n];if(a)for(var o=0;a.length>o;o++){var r=a[o];r.call(t,i)}}})};e.prototype={_receiveKey:"",_postElement:null,_listeners:{},post:function(e){var t=this;e&&t._postElement&&t._postElement.postMessage&&t._postElement.postMessage(JSON.stringify(e),"*");return t},receive:function(e){var t=this,n=function(n){var i=n.origin+"";if((0===t._url.indexOf(i)||0===t._url.indexOf(i.replace("https://","http://")))&&n.data&&n.data.indexOf&&0===n.data.indexOf("{")){var a={};for(var o in n)a[o]="data"==o?JSON.parse(n[o]):n[o];if(!a.data.receiveKey||a.data.receiveKey!==t._receiveKey)return!1;e(a)}};window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n);return t},on:function(e,t){var n=this,i=function(){setTimeout(function(e){t.apply(n,e)},0,arguments)};this._listeners[e]||(this._listeners[e]=[]);this._listeners[e].push(i);return n},fire:function(e,t){this.post({receiveKey:this._receiveKey,type:e,data:t})}};return e}(),u=function(){function e(e,t,i){var a="en";e&&(a=e.locale());t=n[t]||t;if(window.embeddedMedia.language){var o=window.embeddedMedia.language.t(t,a);if(o!=t)return o}return i||"Unknown Error"}function t(t,n){this.type="error";this.code=t;this.severity="critical";this.description=e(n,t+"");return this}var n={6000:"unableToEmbed",6003:"errorUnsupported",6004:"initialiseFailed",6005:"initialiseFailed",6010:"flashNotAvailable",6012:"errorUnsupported",1003:"defaultErrorMessage",1040:"flashNotAvailable"};return t}(),p=function(){function t(e){return!!e&&("radioProgramme"===e.kind||"audio"===e.kind)}function a(e,t){if(!e)return"00:00";if(isNaN(e)||0>e||e>36e4)return"";var n=Math.floor(e/60),i=Math.floor(n/60);n=Math.floor(n%60);var a=Math.floor(e%60);10>n&&(n="0"+n);10>a&&(a="0"+a);var o=[n,a];(i>0||t)&&o.unshift(i);t&&o.pop();return o.join(":")}function o(e,t,n){var i="cta_play.png";t?i=n?"svg/white/audio.svg":"svg/white/play.svg":n&&(i="cta_play_audio.png");return i}function r(e,t,n,i){var a={ctaSize:n?"60px":"80px",ctaBackgroundSize:"52px 52px",ctaBackgroundPosition:"50% "+(t?"38%":"50%")};if(e){a.ctaBackgroundSize="60px 60px";t&&(a.ctaBackgroundPosition="10px 5px");if(n)if(i){t&&(a.ctaBackgroundPosition="7px 1px");a.ctaBackgroundSize="45px 45px"}else{t&&(a.ctaBackgroundPosition="10px 4px");a.ctaBackgroundSize="40px 40px"}else if(i){t&&(a.ctaBackgroundPosition="9px 4px");a.ctaBackgroundSize="62px 62px"}}else if(n)if(i){a.ctaBackgroundSize="22px 22px";t&&(a.ctaBackgroundPosition="50% 34%")}else a.ctaBackgroundSize="35px 35px";else i&&(a.ctaBackgroundSize="28px 28px");return a}function s(e,t,n,i){var a=document.createElement("div"),o=window.embeddedMedia.players.length,r=!i,s="",l=document.getElementsByClassName("p_cta")[0];l&&(s=window.getComputedStyle?window.getComputedStyle(l).direction:l.currentStyle.direction);var c="rtl"==s,u=c?"margin-right: 10px; ":"margin-right: -2px; ",p=c?"margin-right:10px;":"margin-left:10px;",m=c?"margin-right:80px;":"margin-left:80px;",f=c?"padding-left:30px;":"padding-right:30px;";a.id="p_guidance"+o;var g=document.createElement("div");g.id="p_guidanceBox"+o;g.className="p_guidanceBox";var h=document.createElement("span"),b=document.createElement("span"),w=n?"background-color:white; color:black;":"background-color:red;",P="display:inline-block;margin:auto;border-radius:50%;height:15px;width:15px;"+w+"position: relative; top:-2px;";if(y){h.id="p_guidanceG"+o;b.id="p_guidanceW"+o;h.style.backgroundImage='url("'+v+'svg/guidance.svg")';b.style.backgroundImage='url("'+v+'svg/warningGuidance.svg")';b.style.display=n?"inline-block":"none";h.style.display=n?"none":"inline-block";h.setAttribute("aria-labelledby","p_guidanceText"+o);b.setAttribute("aria-labelledby","p_guidanceText"+o);P="width:15px;height:15px;display:inline-block;position: relative; top: 2px;"+u}else{h.id="p_guidanceG"+o;var _=document.createElement("span");_.id="p_guidanceGText"+o;h.appendChild(_);_.textContent="G";_.setAttribute("aria-labelledby","p_guidanceText"+o)}g.appendChild(h);g.appendChild(b);var C=document.createElement("span");C.id="p_guidanceText"+o;C.textContent=t;g.appendChild(C);a.appendChild(g);var k="position:absolute;height:80px;bottom:-0.5px;background-color: rgba(0, 0, 0, 0.7);"+m+"margin-top: -40px;display:table;"+f+"line-height:1";document.documentElement.className.indexOf("b-reith-sans-font")>=0&&r?a.className+="font-family-sans":k+="; font-family:helvetica, Arial, sans-serif";var E=e.sheet;d(E,"#p_guidance"+o,k,0);d(E,".minimode #p_guidance"+o,"left: 61px;height:60px;",1);d(E,"#p_guidanceBox"+o,"color:#ffffff;font-size:12px;font-weight:bold;padding-left:8px;display:table-cell;vertical-align:middle;",2);d(E,"#p_guidanceG"+o,P,3);d(E,"#p_guidanceW"+o,P,3);d(E,"#p_guidanceGText"+o,"position:relative;left:3px;top:1px;line-height:normal;",4);d(E,"#p_guidanceText"+o,p,5);return{text:C,div:a,id:o}}function d(e,t,n,i){if(e.insertRule){i=void 0===i?e.cssRules.length:i;e.insertRule(t+"{"+n+"}",i)}else e.addRule&&e.addRule(t,n,i)}function c(e){function t(){clearTimeout(a);r=!0;n.hasClass(e,"nonPointerFocus")&&n.className(e,"","nonPointerFocus");a=setTimeout(i,250)}function i(){r=!1}var a,o,r=!1,s=!1;n.hasClass(e,"nonPointerFocus")||n.className(e,"nonPointerFocus");if(window.PointerEvent)document.addEventListener("pointerdown",t,!0);else{document.addEventListener("touchstart",t,!0);document.addEventListener("mousedown",t,!0)}window.addEventListener("focus",function(){clearTimeout(o);s=!0;o=setTimeout(function(){s=!1},250)});document.addEventListener("focusin",function(){r||s||n.hasClass(e,"nonPointerFocus")||n.className(e,"nonPointerFocus")},!0)}function u(e){this.immediate=!0;this._name=e;return this}function p(e,t){var n={gMessage:t,isWarning:!1};if(e.playlistObject){if(e.playlistObject.warning){n.gMessage=e.playlistObject.warning;n.isWarning=!0}if(e.playlistObject.guidance){n.gMessage=e.playlistObject.guidance;n.isWarning=!1}}return n}function m(e){if(e&&e.items)for(var t=0;e.items.length>t;t++)if(e.items[t].live===!0)return!0;return!1}function f(e){e.audiouiLiveIndicator.style.display=e._settings.playlistObject&&m(e._settings.playlistObject)?"block":"none";var t=h(e._settings);if(t&&e._settings.playlistObject&&!m(e._settings.playlistObject)&&e._settings.ui.cta&&"duration"==e._settings.ui.cta.mode){e.audioDurationHolder.innerHTML=t;e.audioDurationHolder.style.opacity=1}else e.audioDurationHolder.style.opacity=0}function g(e){var t=e._settings.locale(),i=window.embeddedMedia.language,a=e.sheet;d(a,"#p_audioui_playpause_circle","stroke: #fff;stroke-width: 3;fill: none;");d(a,"#p_audioui_playpause_highlightCircle","opacity: 0;-webkit-transition: 100ms opacity linear;transition: 100ms opacity linear;fill:"+e._settings.ui.colour+";");d(a,"#p_audioui_playpause.hovering #p_audioui_playpause_highlightCircle,#p_audioui_playpause.pressed #p_audioui_playpause_highlightCircle,.nonPointerFocus #p_audioui_playpause.focused #p_audioui_playpause_highlightCircle","opacity: 1;");d(a,"#p_audioui_playpause_playIcon","-webkit-transform-origin: 34px 34px;transform-origin: 34px 34px;-webkit-transition: 100ms -webkit-transform ease-out;transition: 100ms -webkit-transform ease-out;transition: 100ms transform ease-out;transition: 100ms transform ease-out, 100ms -webkit-transform ease-out;-webkit-transform: scale(1);transform: scale(1);");d(a,"#p_audioui_playpause.pressed #p_audioui_playpause_playIcon","-webkit-transform: scale(1.4);transform: scale(1.4);");var o=document.createElement("button");o.id="p_audioui_playpause";o.setAttribute("aria-label",i.t("aaampPlay",t));var r=n.createSVGElement("svg",{width:68,height:68,viewbox:"0 0 68 68"}),s=n.createSVGElement("circle",{id:"p_audioui_playpause_circle",cx:34,cy:34,r:32}),l=n.createSVGElement("circle",{id:"p_audioui_playpause_highlightCircle",cx:34,cy:34,r:34}),c=n.createSVGElement("polygon",{id:"p_audioui_playpause_playIcon",points:"27 46 46 34 27 22"});r.appendChild(s);r.appendChild(l);r.appendChild(c);o.appendChild(r);n.hoverMoveAction(o,function(){n.className(o,"hovering")});n.hoverLeaveAction(o,function(){n.className(o,"","hovering")});n.downAction(o,function(){n.className(o,"pressed")});n.upAction(document,function(){n.className(o,"","pressed")},!0);n.multiAddEventListener(o,"focus focusin",n.throttleFn(function(){n.className(o,"focused")}));n.multiAddEventListener(o,"blur focusout",n.throttleFn(function(){n.className(o,"","focused")}));o.addEventListener("keydown",function(e){(13==e.keyCode||32==e.keyCode)&&n.className(o,"pressed")});o.addEventListener("keyup",function(){n.className(o,"","pressed")});e._settings.includeAppClickHandler&&n.multiAddEventListener(o,"mouseup touchend click",n.throttleFn(e.getUserPlay()));return o}function h(e){var t=null;if(e.overrideCtaDuration)t=e.overrideCtaDuration;else{var n=i.firstProgramme(e.playlistObject);n&&n.duration&&(t=a(n.duration,!1))}return t}var y,v="https://emp.bbci.co.uk/emp/assets/2.0.27/",b=u.prototype=new l;b.embed=function(t,n){var i=this,a=document.createElement("style"),o=document.getElementsByTagName("head")[0];o.appendChild(a);i.sheet=a.sheet?a.sheet:a.styleSheet;i._settings=t;i._container=t.container;i._version=window.embeddedMedia.version;c(i._container);i.uiDefaults(e.get());i.ctaNeedsCreating=i.createCta();i.extraEmbed&&i.extraEmbed();n(i,i.capability);i.processPlaylist(null,!0);i.trigger({type:"initialised"});i.processPlaylist()};b.show=function(e){this.wrapper.children().show();e&&this.play()};b.hide=function(){this.wrapper.children().hide()};b.setLocation=function(t){var n=this._settings;if(n.insideIframe){var i={type:"navigateTo"};i.href=t;this.trigger(i)}else{try{var a=""===top.location.href&&!1}catch(o){a=!0}e.requiresWindowOpenSMPAirLaunch||a?window.open(t):top.location=t}};b.hasPlaylist=function(){var e=this._settings;return e.playlist||e.playlistObject};b.updateUiConfig=function(){var e=this,t=e._createdUI||{},n=e._settings.ui,i=!1,a=t.miniMode&&t.miniMode.enabled,o=n.miniMode&&n.miniMode.enabled;if(a!=o)i=!0;else if(t.colour!=n.colour)i=!0;else{var r=n[e.classStr]||n.CTAcss;e._ctaClassName!=r&&(i=!0)}if(i){this.wrapper&&(this.wrapper.innerHTML="");this.createCta()}};b.processPlaylist=function(e,t){var i=this,a=i._settings,o=e||a.playlistObject;if(o){i.playlist=n.clone(o);var r=i.playlist.items;if(r)for(var s=r.length-1;s>=0;s--){var l=r[s];i.filterPlaylist&&("ident"==l.kind||"advert"==l.kind||"360"==l.kind)&&r.splice(s,1);if(l.versionID)l.vpid=l.versionID;else if(l.serviceID){l.vpid=l.serviceID;l.live=!0;i.playlist.simulcast!==!1&&(i.playlist.simulcast=!0)}l.identifier=l.vpid}if(!t){var d={type:"playlistLoaded"};d.playlist=i.playlist;i.trigger(d)}}else i.playlist=null};b.next=function(){var e=this,t=e.playlist;if(t)if(t.items&&t.items.length>1)t.items.shift();else if(t.queuedPlaylist){e.processPlaylist(t.queuedPlaylist);var i=e._settings;i.playlist="";i.playlistObject=t.queuedPlaylist;i.webcastData={};i.overrideHoldingImage=null;i.statsObject.parentPID=void 0;i.statsObject.parentPIDType=void 0;i.statsObject.episodePID=void 0;i.statsObject.clipPID=void 0;i.statsObject.brandPID=void 0;i.statsObject.seriesPID=void 0;i.statsObject.playlistLabels=void 0;i.statsObject.playlistName=void 0;t.queuedOptions&&n.merge(i,t.queuedOptions);e._statsObject=n.clone(i.statsObject)}};b.loadPlaylist=function(){var e=this,t=e._settings,n=window.embeddedMedia.parentalGuidance;n.setUnder16Permission(!1);if(e.ctaNeedsCreating)setTimeout(function(){e.ctaNeedsCreating=e.createCta()},100);else if("audio"==t.ui.skin)f(e);else if(e.incGuidance&&(!t.ui.guidance||t.ui.guidance.enabled!==!1)){var i=t.playlistObject&&(t.playlistObject.guidance||t.playlistObject.warning)||t.forceGuidance||t[e._guidance];if(i){var a=p(t,i);if(e.guidanceWrapper){if(y){var o=document.getElementById("p_guidanceG"+e.guidanceWrapper.id),r=document.getElementById("p_guidanceW"+e.guidanceWrapper.id);if(a.isWarning){r.style.display="inline-block";o.style.display="none"}else{r.style.display="none";o.style.display="inline-block"}}else{var l=document.getElementById("p_guidanceGText"+e.guidanceWrapper.id),d=document.getElementById("p_guidanceG"+e.guidanceWrapper.id);if(a.isWarning){l.style.color="black";d.style.backgroundColor="white"}else{l.style.color="white";d.style.backgroundColor="red"}}e.guidanceWrapper.div.style.display="";e.guidanceWrapper.text.textContent=a.gMessage}else{e.guidanceWrapper=s(e,a.gMessage,a.isWarning,t.ui.disableReithFonts);e.wrapper.appendChild(e.guidanceWrapper.div)}}else if(e.guidanceWrapper){e.guidanceWrapper.div.style.display="none";e.guidanceWrapper.text.textContent=""}}e.processPlaylist();t.autoplay&&e.play();e.resetContainer&&e.resetContainer();e.setPoster()};b.createCta=function(){if(this.hasPlaylist()){"audio"==this._settings.ui.skin?this.createAudioCta():this.createClassicCta();return!1}return!0};b.createAudioCta=function(){var e=this,t=g(e);d(e.sheet,"#p_audioui_playpause","position: absolute;left: 50%;margin: 0 0 0 -34px;bottom: 16px;width: 68px;height: 68px;fill: #FFFFFF;padding: 0;border: 0;outline: 0;background: transparent;cursor: pointer;");var i=e.audioDurationHolder=document.createElement("div");i.id="p_audioui_durationHolder";d(e.sheet,"#p_audioui_durationHolder","position: absolute; bottom: 42px; left: 50%; margin-left: 50px; width: 150px; color: #FFF; font-size: 15px; line-height: 15px; opacity: 0;");var a=e.wrapper=document.createElement("div");a.className="p_audioui_wrapper";d(e.sheet,".p_audioui_wrapper","width:100%;height:100%;position:relative;opacity:0;transition: opacity 1000ms linear;");(document.documentElement.className.indexOf("b-reith-sans-font")==-1||e._settings.ui.disableReithFonts)&&d(e.sheet,".p_audioui_wrapper","font-family: helvetica, Arial, sans-serif;");var o=document.createElement("div");o.id="p_audioui_progressBar";d(e.sheet,"#p_audioui_progressBar","position: absolute; bottom: 119px; height: 2px; left: 16px; right: 16px; background-color: rgba(255,255,255, 0.3);");e.sheet.insertRule&&e.sheet.insertRule("@media (max-width: 399px) { #p_audioui_progressBar { left: 10px; right: 10px; } }",e.sheet.cssRules.length);var r=e.audiouiLiveIndicator=document.createElement("div");r.id="p_audioui_liveIndicator";d(e.sheet,"#p_audioui_liveIndicator","position: absolute; right: 16px; bottom: 92px;");f(e);var s=document.createElement("span");s.className="p_audioui_liveText";s.innerHTML="LIVE";d(e.sheet,".p_audioui_liveText","display: block; float: right; margin-left: 3px; height: 12px; line-height: 12px; font-size: 12px; color: #FFF;");var l=n.createSVGElement("svg",{width:12,height:12});d(e.sheet,"#p_audioui_liveIndicator svg","display: block; float: right; fill: #fff;");var c=n.createSVGElement("path",{d:"M5.96681502,10.3410568 C8.38342771,10.3410568 10.3424794,8.38388329 10.3424794,5.96958745 C10.3424794,3.5552916 8.38342771,1.59811812 5.96681502,1.59811812 C3.55020233,1.59811812 1.59115067,3.5552916 1.59115067,5.96958745 C1.59115067,8.38388329 3.55020233,10.3410568 5.96681502,10.3410568 Z M5.96681502,11.930682 C2.67143408,11.930682 0,9.26180906 0,5.96958745 C0,2.67736584 2.67143408,0.00849290887 5.96681502,0.00849290887 C9.26219596,0.00849290887 11.93363,2.67736584 11.93363,5.96958745 C11.93363,9.26180906 9.26219596,11.930682 5.96681502,11.930682 Z"}),u=n.createSVGElement("circle",{"class":"p_audioui_liveIconCentre",cx:6,cy:6,r:3});if(e.sheet.insertRule){e.sheet.insertRule(".p_audioui_liveIconCentre { animation: 1.7s ease infinite p_audioui_pulsate; }",e.sheet.cssRules.length);e.sheet.insertRule("@keyframes p_audioui_pulsate { from { opacity: 1; } 50% { opacity: 0.3; } to { opacity: 1; } }",e.sheet.cssRules.length);e.sheet.insertRule("@media (max-width: 399px) { #p_audioui_liveIndicator { right: 10px; } }",e.sheet.cssRules.length)}l.appendChild(u);l.appendChild(c);r.appendChild(s);r.appendChild(l);a.appendChild(t);a.appendChild(i);a.appendChild(o);a.appendChild(r);e._container.innerHTML="";e._container.appendChild(a);a.style.opacity=1};b.createClassicCta=function(){var e=this,a=e._settings,l=a.ui.miniMode&&a.ui.miniMode.enabled;e._createdUI=n.clone(a.ui);var d=!1,c=h(a),u=i.firstProgramme(a.playlistObject);u&&(d=t(u));var m=(a.ui.colour+"").replace("0x","#").substring(0,7);e.wrapper||(e.wrapper=n.getWrapper(a,999));e.wrapper.className=l?"minimode":"";var f=window.embeddedMedia.players.length,g=document.createElement("button");g.setAttribute("id","cta"+f);g.className="p_cta";g.title=window.embeddedMedia.language.t("aaampPlay",a.locale());var b=e._ctaClassName=a.ui[e.classStr]||a.ui.CTAcss;e.incGuidance=!0;var w=null;if(c&&a.ui.cta&&"duration"===a.ui.cta.mode){w=document.createElement("span");w.className="p_ctaDuration";w.textContent=c;g.appendChild(w)}if(b){e.incGuidance=!1;g.className=b}else{y=a.ui.useHighResIcons;var P=a.ui.cta||{};P.ignoreAudio&&(d=!1);var _=o(a,y,d),C=r(y,w,l,d),k='url("'+v+_+'")';void 0!==P.custom&&(k='url("'+P.custom+'")');g.setAttribute("style","background-image : "+k+";background-position : "+C.ctaBackgroundPosition+";background-repeat:no-repeat;background-color :#000000;background-size : "+C.ctaBackgroundSize+";opacity : 0.8;margin : 0;padding: 0; border: 0;width  : "+C.ctaSize+";height : "+C.ctaSize+";display :  block;position : absolute; bottom : -0.5px");if(w){var E=l?"6px":"8px",x=l?"60px":"80px";w.setAttribute("style","font-size: 0.75rem;text-align : center;position: absolute;bottom: "+E+";left: 0px;width: "+x+";color: #fff;background-colour:transparent")}var S=function(){g.style.backgroundColor=m;g.style.opacity=1},T=function(){g.style.backgroundColor="#000000";g.style.opacity=.9};e._container.addEventListener("mousedown",S);e._container.addEventListener("mouseover",S);e._container.addEventListener("touchstart",S);e._container.addEventListener("focusin",S);e._container.addEventListener("mouseup",T);e._container.addEventListener("mouseout",T);e._container.addEventListener("touchend",T);e._container.addEventListener("touchmove",T);e._container.addEventListener("focusin",T)}if(a.includeAppClickHandler){g.setAttribute("tabIndex",0);n.multiAddEventListener(g,"mouseup touchend click",n.throttleFn(e.getUserPlay()))}e.wrapper.appendChild(g);e._container.innerHTML="";e._container.appendChild(e.wrapper);if(e.incGuidance&&(!a.ui.guidance||a.ui.guidance.enabled!==!1)){var I=a.playlistObject&&(a.playlistObject.guidance||a.playlistObject.warning)||a.forceGuidance||a[e._guidance];if(I){var L=p(a,I);e.guidanceWrapper=s(e,L.gMessage,L.isWarning);e.wrapper.appendChild(e.guidanceWrapper.div)}}};b.getUserPlay=function(){var e=this;return function(){e.sonar&&setTimeout(function(){e.trigger({type:"userPlay"});
e.sonar.action("click","play_"+e.daxname)},50);e.play()}};return u}(),m=function(){function t(){this.type="html";this.includePoster=!1;this.requireSonarJS=!0;this._currentTime=0;this._duration=0;this._playbackRate=1;this._fullScreen=!1;this._lastSignificant=0;this._kind="";this.pluginsToLoad=[];return this}function a(e){if(!f){f=!0;window.addEventListener("devicemotion",function(t){var n={rotationRate:{alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma},orientation:window.orientation};e.xd.fire("devicemotion",n)})}}function o(t,n){var i,a,o,r,s,l,d,c,u=t,f=u.wrapper,g=document.body.style,h=document.documentElement.style,y=e.get(),v=y.os.ios&&!y.isTabletDevice;u._pfse=function(){u._fullScreen=!0;if(!c){c=document.createElement("style");document.createTextNode&&c.appendChild(document.createTextNode(""))}document.head.appendChild(c);var e=c.sheet?c.sheet:c.styleSheet;if(e.cssRules&&0===e.cssRules.length){e.insertRule("#"+n+"wrp{z-index:2147483600!important}",0);e.insertRule("div{z-index:auto!important}",1);e.insertRule(".smpPG {z-index:2147483600!important}",2)}o=window.pageXOffset||document.documentElement.scrollLeft;r=window.pageYOffset||document.documentElement.scrollTop;i=g.overflow;g.overflow="hidden";a=h.overflow;h.overflow="hidden";document.body.addEventListener("touchmove",m);var t=u.resizePlayer=function(){var e=window.innerWidth,t=window.innerHeight;f.style.position="fixed";f.style.left="0";f.style.top="0";f.style.height=t+"px";f.style.paddingBottom=0;f.style.width=e+(v?.5:0)+"px";f.style.setProperty&&f.style.setProperty("position","fixed","important");f.style.WebkitTransform="translate3d(0,0,10em)"};window.removeEventListener("resize",p);window.removeEventListener("orientationchange",p);p=function(){t();clearTimeout(d);d=setTimeout(t,200)};window.addEventListener("resize",p);window.addEventListener("orientationchange",p);if(!s){for(var y="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover",b=document.getElementsByTagName("meta"),w=0;b.length>w;w++)if("viewport"===b[w].name){l=b[w].content;b[w].content=y;s=b[w];break}if(!l){s=document.createElement("meta");s.name="viewport";s.content=y;document.getElementsByTagName("head")[0].appendChild(s)}}setTimeout(t,250)};u._pfsx=function(){u._fullScreen=!1;u.resizePlayer=null;clearTimeout(d);c&&document.head.removeChild(c);window.removeEventListener("resize",p);window.removeEventListener("orientationchange",p);f.style.removeProperty&&f.style.removeProperty("position","fixed","important");f.style.height="100%";f.style.width="100%";f.style.left="";f.style.top="";f.style.position="relative";f.style.WebkitTransform="";g.overflow=i;h.overflow=a;document.body.removeEventListener("touchmove",m);if(l){s.content=l;l=null;s=null}else if(s&&s.parentNode){s.content="";s.parentNode.removeChild(s);s=null}window.scroll(o,r)}}function r(e){var t=[];e.uiClass&&t.push(e.uiClass);e.defaultUiClass&&t.push(e.defaultUiClass);return t.join(" ")}function s(e){return function(t){var n,i=t.type,o={type:i};for(var r in t)"type"!=r&&"_"!=r&&"unwanted"!=r&&(o[r]=t[r]);e.processEvent(o,t,t.data);switch(i){case"durationchange":e._duration=t.duration;break;case"initialised":e._version=(t.version+"").replace(/\.smphtml5/i,"").replace(/[^\d\.]/gim,"");e.initialised();clearTimeout(e.iframeLoadAndInitialiseTimeout);break;case"volumechange":e._muted=t.muted;e._volume=t.volume;break;case"guidanceShow":e._gCalled=!0;e._lockClicked=t.lockClicked;window.embeddedMedia.parentalGuidance.show(t,e._settings.ui.colour,e._settings.locale());e._fullScreen&&(e.wrapper.style.WebkitTransform="");break;case"pause":e._ended=o.ended;break;case"mediaItemChanged":e._mediaItem=o.mediaItem;break;case"playing":e._mediaItem=o.mediaItem;break;case"playlistLoaded":var s=document.getElementById(e.getId());if(s)if(e.playlist.title)s.title=e.playlist.title;else{var l=window.embeddedMedia.language;s.title=l.t("screenreaderDefaultIframeTitle",e._settings.locale())}break;case"playlistLoading":t.statsObject&&(n=function(){t.statsObject.playlistURL||(t.statsObject.playlistURL=t.url);e._statsObject=t.statsObject});break;case"beforeFullscreenEnter":t.applyPageFullScreen&&e._pfse();break;case"beforeFullscreenExit":if(e._settings.superResponsive){e.wrapper.style.paddingBottom="";setTimeout(function(){e.wrapper.style.paddingBottom="56.25%"},10)}t.applyPageFullScreen&&e._pfsx();break;case"loadingThreeSixty":a(e);break;case"verify":window.embeddedMedia.parentalGuidance.verify(t,function(t){e.call("PINverified",{isCorrect:t})})}try{e.trigger(o);n&&n()}catch(d){n&&n();throw d}}}function d(t){var a=n.clone(t,{_container:!0,container:!0,dispatch:!0,init:!0,trigger:!0,initialisationListenerTimeout:!0}),o=e.get();a.embedReferer=document.referrer||"";a.uiClass=r(a);i.mediationUrls(a,a,!0);a.mobileNetwork=o.connection.mobile;a.playVideoExternally=!a.preferHtmlOnMobile&&a.preferInlineAudioPlayback&&o.htmlAudio&&t.playingAudio()&&!a.playerWasForced;a._demiIsUK=window.embeddedMedia.demi.isUK;return a}var p,m=function(e){e.preventDefault()},f=!1,g=t.prototype=new l;g._name="smphtml5";g.compatibility=function(t){var i=e.get(),a=!1;a=t.dashPlaybackOnly?i.hasMseSupport:n.hasVideo&&(i.hasHlsVodSupport||i.isMobileOrTablet||i.hasMseSupport);!a&&i.hybrid&&(a=!0);return a};g.embedUrl=function(e){return e.html5Debug?"//emp.bbc.co.uk/emp/SMPj/2.49.2/debug.html":"//emp.bbc.co.uk/emp/SMPj/2.49.2/iframe.html"};g.embed=function(t,i){var a=this;a._settings=t;a._container=t.container;clearTimeout(t.initialisationListenerTimeout);for(;a._container.firstChild;)a._container.removeChild(a._container.firstChild);var r=e.get();if(t.saveData){a._settings.delayEmbed=!0;a._settings.ui.thumbnail.enabled=!1;a._settings.ui.disableReithFonts=!0}a.uiDefaults(r);t.supportHls=r.hasHlsVodSupport;t.deviceSupports360=r.support360;for(var l=0;t.plugins.toLoad.length>l;l++){var d=t.plugins.toLoad[l];a.loadPlugin(d,d.data)}var p=a.embedUrl(t),m=!1,f=["bbc.co.uk","bbc.com","britbox.com","bbcrewind.co.uk","bbcconnectedstudio.co.uk","labs.bbc"];if("http:"==location.protocol||"https:"==location.protocol)for(l=0;f.length>l;l++)if(location.host.indexOf(f[l])!==-1){p=p.replace("bbc.co.uk",f[l]);try{document.domain=f[l];m=!0}catch(g){}}m&&/^http/.test(location.protocol)||(p=p.replace(/^\/\//,"https://"));a.uniqueId="X"+Math.random();var h=a._container,v=a.getId(),b=a.wrapper=n.getWrapper(t,999);b.setAttribute("id",v+"wrp");h.appendChild(b);var w=document.createElement("iframe");w.setAttribute("id",v);w.setAttribute("name",v);w.setAttribute("allow","autoplay");w.setAttribute("frameborder",0);w.setAttribute("scrolling","no");w.setAttribute("lang",a._settings.locale());w.setAttribute("allowfullscreen","");w.setAttribute("allowtransparency","");w.setAttribute("style","position:absolute;left:0;top:0;width:100%;height:100%");a._settings.delayEmbed&&w.setAttribute("loading","lazy");b.appendChild(w);w.onload=function(){var e=v;a.iframeLoadAndInitialiseTimeout=setTimeout(function(){var e=new u(6007,t);y.error(e.code,t,"smphtml5");a.trigger(e)},5e3);o(a,e);a.xd&&(a.xd._listeners={});a.xd=new c(e);a.xd.on("jsapi",s(a));if("object"!=typeof window.JSON){var n=document.createElement("script");n.async=!0;n.src="https://emp.bbci.co.uk/emp/assets/bump-3/json.js";var i,r=!1;n.onload=function(){clearTimeout(i);r=!0;a.fireBootstrap()};document.head.appendChild(n);var l=function(){window.JSON?a.fireBootstrap():i=setTimeout(l,1e3)};i=setTimeout(l,1e3)}else a.fireBootstrap()};w.setAttribute("src",p);window.addEventListener&&window.addEventListener("pageshow",function(e){if(e.persisted){w.setAttribute("src",p);a._fullScreen&&a._pfsx()}});i(a,{markers:!0,queuedPlaylist:!0,previousPlaylist:!0,threeSixty:r.support360,inPage:!0,overlay:!0})};g.fireBootstrap=function(){var e=this;window.embeddedMedia.playerInstances[e.uniqueId]=e;var t={player:{vars:d(e._settings)},id:e.uniqueId,requireMap:window.bbcRequireMap};try{var n=document.getElementById(e.getId());n.contentWindow.bootstrap(t)}catch(i){e.xd.fire("bootstrap",t)}};g.updateUiConfig=function(e){try{var t=document.getElementById(this.getId());if(t)if(e.hidePlayerFromAT){t.setAttribute("aria-hidden",!0);t.setAttribute("tabindex","-1")}else{t.removeAttribute("aria-hidden");t.removeAttribute("tabindex")}}catch(n){}this.call("uiConfigFromBump",e)};g.updateConfig=function(e){this.call("configFromBump",e)};g.captureIntent=function(e){this.call("captureIntent",e)};g.loadPlaylist=function(e){var t=this;if(t.ready){var n=d(t._settings);n.nonUserBypass=n.nonUserBypass||e===!0;t.playlist=null;t._mediaItem=null;t.call("loadPlaylist2",n);n.playlistObject&&n.playlistObject.embedRights&&!n.externalEmbedUrl&&t.updateUiConfig({embed:{enabled:!1}});var i=n.webcastData;i&&(i.accurateStartTime||i.scheduledStartTime||i.accurateEndTime||i.scheduledEndTime)&&t.webcastData(i);n.nonUserBypass=!1}};g.getId=function(){return this._name+"iframe"+this._settings.domid};g.call=function(e,t){try{var n=document.getElementById(this.getId()),i=n.contentWindow.publicApi.api[e];i||(i=n.contentWindow.publicApi[e]);i(t)}catch(a){this.xd&&this.xd.fire("jsapi",{call:e,params:t})}};g.setPreviousPlaylist=function(e,t){var n=this;n.call("setPreviousPlaylist",{playlist:e,options:t})};g.queuePlaylist=function(e,t){var n=this;n.call("queuePlaylist",{playlist:e,options:t})};g.loadPlugin=function(e,t){if(e){var n=e.j2;n||e.playerOnly||(n=e.html);if(n){var i={url:n,data:t};if(this.ready){this.setData(i.data);this.loadPluginWithCheck(i,"loadPlugin2")}else this.pluginsToLoad.push(i)}}};g.webcastData=function(e){if(e){l.prototype.webcastData.call(this,e);this.setData({name:"SMP.webcastData",data:e})}};g.dispatchEvent=function(e,t){e&&this.call("dispatch",{type:e,data:t},!0)};g.show=function(e){this.wrapper.firstChild.style.width="100%";this._settings.tryPlayAfterInHtml&&e&&this.play(!0)};g.hide=function(){this.wrapper.firstChild.style.width="0%"};g.getHandleJSAPI=function(){return s(this)};g.initialised=function(){var t=this,n=t._settings;t.before();for(var i=0;t.pluginsToLoad.length>i;i++){var a=t.pluginsToLoad[i];a.waitOnPluginLoad=n.waitOnPluginLoad;t.setData(a.data);this.loadPluginWithCheck(a,"loadPlugin2")}(n.playlistObject||n.playlist)&&t.loadPlaylist(!0);t.started(e.get())};g.persistSettings=function(e){var t=this;t.call("persistSettings",{settings:e})};return t}(),f=function(){function t(t){var a=n.clone(t,{_container:!0,container:!0,dispatch:!0,init:!0,trigger:!0,initialisationListenerTimeout:!0});i.mediationUrls(a,a);a.mediator||(a.mediator={});a.mediator.mediaset=i.mediaSet(a);var o=e.get();a.mobileNetwork=o.connection.mobile;a._demiIsUK=window.embeddedMedia.demi.isUK;return a}function a(){if(!window.customElements)return!1;if(!window.HTMLElement||!window.HTMLElement.prototype.attachShadow)return!1;if(!window.ResizeObserver)return!1;if(!window.PointerEvent)return!1;try{document.querySelector(":focus-visible")}catch(e){return!1}return!0}function o(e){return e.supportFakeFullscreen?!0:window.HTMLElement&&(window.HTMLElement.prototype.requestFullscreen||window.HTMLElement.prototype.webkitRequestFullscreen)?!0:!1}function r(e){return e.threeSixty}function s(e){return(e.enableToucan||/ck[pn]s_smpj2Optin=optin/.test(document.cookie))&&!/ckps_smpj2Optin=optout/.test(document.cookie)}function d(){this.type="html";this.includePoster=!1;this.requireSonarJS=!0;return this}var c=d.prototype=new l;c._name="toucan";c.compatibility=function(e,t){return a()&&!r(e)&&o(e)&&(t||s(e))&&(location.hostname+"").indexOf(".onion")==-1};c.getId=function(){return this._name+"-"+this._settings.domid};c.prepare=function(e){var t=e.html5Debug?"https://emp.bbci.co.uk/emp/toucan/bundle/1.18.4/debug/js/ToucanPlayer.js":"https://emp.bbci.co.uk/emp/toucan/bundle/1.18.4/live/js/ToucanPlayer.js",n=document.createElement("script");n.type="module";n.src=t;n.onload=function(){};document.head.appendChild(n)};c.embed=function(i,a){var o=this;this._settings=i;this._container=i.container;window.customElements.whenDefined("smp-toucan-player").then(function(){for(;o._container.firstChild;)o._container.removeChild(o._container.firstChild);var r=n.getWrapper(i,999);o._container.appendChild(r);var s=document.createElement("smp-toucan-player");s.style.cssText="position:absolute;width:100%;height:100%;left:0;right:0";o._version=s.version&&s.version.replace(/\.SMPToucan/i,"").replace(/[^\d\.]/gim,"");var l=window.embeddedMedia.language,d=o._settings.locale(),c=l.getList(d);s.language=c;o.toucan=s;o.toucan.id=o.getId();var u=e.get();o.uiDefaults(u);o.toucan.settings=t(i);o._preInitPlaylist=o.toucan.settings.playlistObject;o.toucan.uiSettings=o.toucan.settings.ui;s.__bumpInit=function(){a(o,{markers:!1,queuedPlaylist:!0,previousPlaylist:!1,threeSixty:!1,inPage:!0,overlay:!0});o.before();o.toucan._eventBus.registerForPublic(function(e){var t=e.type,n={type:t};o.processEvent(n,e,e.detail);switch(t){case"durationchange":o._duration=e.duration;break;case"volumechange":o._muted=e.muted;o._volume=e.volume;break;case"pause":o._ended=n.ended;break;case"mediaItemChanged":o._mediaItem=n.mediaItem;break;case"guidanceShow":o._gCalled=!0;window.embeddedMedia.parentalGuidance.show(e,o._settings.ui.colour,o._settings.locale())}o.sonar&&"Sonar"===e.type.substring(0,5)?o.sonar.eventHandler(e,o.sonar):o.trigger(n)});o.trigger({type:"initialised"});for(var t=0;i.plugins.toLoad.length>t;t++){var n=i.plugins.toLoad[t],r=n.html;r||n.playerOnly||(r=n.j2);if(r){var s={url:r,data:n.data,module:n.module};o.loadPluginWithCheck(s)}}if(o._preInitPlaylist){delete o._preInitPlaylist;o.loadPlaylist()}o.started(e.get())};r.appendChild(s)})};c.call=function(e,t){this.toucan[e](t)};c.resetForPlaylist=function(){this.toucan&&this.toucan.resetForPlaylist()};c.loadPlaylist=function(e){if(this.toucan){delete this._preInitPlaylist;e===!0&&(this._settings.nonUserBypass=!0);this.toucan.settings=t(this._settings);this._settings.nonUserBypass=!1;this.toucan.playlist=this._settings.playlistObject}};c.updateQuality=c.updateConfig=function(e){this.toucan&&(this.toucan.settings=t(e))};c.currentTime=function(e){"number"==typeof e&&(this.toucan.currentTime=e);return this.toucan.currentTime};c.updateUiConfig=function(e){this.toucan&&(this.toucan.uiSettings=e)};c.setPreviousPlaylist=function(e,t){this.toucan&&(this.toucan.previousItem={playlist:e,options:t})};c.queuePlaylist=function(e,t){this.toucan&&(this.toucan.queuedItem={playlist:e,options:t})};c.webcastData=function(e){if(this.toucan&&e){l.prototype.webcastData.call(this,e);this.setData({name:"SMP.webcastData",data:e})}};c.next=function(){this.toucan.next()};c.previous=function(){this.toucan.previous()};c.play=function(){this.toucan.play()};c.pause=function(){this.toucan.pause()};c.paused=function(){return this.toucan.paused};c.ended=function(){return this.toucan.ended};c.seeking=function(){return this.toucan.seeking};c.playbackRate=function(e){"number"==typeof e&&(this.toucan.playbackRate=e);return this.toucan.playbackRate};c.volume=function(e){if(!isNaN(e)){this._volume=e;this.toucan&&(this.toucan.volume=e)}return this._volume};c.muted=function(e){"boolean"==typeof e&&(this.toucan.muted=e);return this.toucan.muted};c.dispatchEvent=function(e,t){this.toucan.dispatchEventToPlugins(e,t)};c.loadPlugin=function(e,t){if(e){var n=e.html;n||e.playerOnly||(n=e.j2);if(n){var i={url:n,data:t,module:e.module};if(this.toucan)this.loadPluginWithCheck(i);else{t&&(e.data=t);this._settings.plugins.toLoad.push(e)}}}};return d}(),g=function(){function e(){this.daxname="SMPPHANTOM";return this}var t=e.prototype=new p("smp-phantom");t._name="smp-phantom";t.play=function(){};t.compatibility=function(e){return e.phantomPlayer===!0};return e}(),h=function(){function t(e){this.setSettings(e);return this}t.prototype={setSettings:function(t){var n=this;n._settings=t;var i=[g,f,m],a=e.get(),o="";try{o=document.cookie+""}catch(r){}var s=o.match(/bbcBumpForcePlayer=(.*?)(?:;|$)/),l=s&&s.length?s[1]:"";if("background"==t.product)n.Class=d;else if(t.threeSixty)(a.support360||/force360Support=true/i.test(o))&&(n.Class=m);else if(t.forceToucan)n.Class=f;else if(!t.showUnsupportedMessage||""!==l)for(var c=0;i.length>c;c++){var u=i[c];if(l==u.prototype._name||""===l&&u.prototype.compatibility(t)){""!==l&&(t.playerWasForced=!0);n.Class=u;break}}n.Class&&n.Class.prototype.prepare&&n.Class.prototype.prepare(t)},decide:function(){var e=this;if(e.Class){e.player=new e.Class;e.name=e.player._name}else e.name=null;return e.player}};return t}(),y=function(){var e=0;return{error:function(t,n,i){if(n.enableRdotReporting){var a=n.customRdotBaseURL;if(a&&0===(a+"").indexOf("https://")){i="c~"+navigator.platform+(i?"~"+i:"");var o=encodeURIComponent(n.counterName),r=[a,"av","0","-","bump","1.0.0","bump",window.embeddedMedia.version,"-",e++,o,"-","-","-","-","-","-","-","-","-","-","-","-","-",t,i].join("/"),s=new Image;s.src=r;return r}}},info:function(t,n){var i=n._settings;if(i.enableRdotReporting){var a=i.customRdotBaseURL;if(a&&0===(a+"").indexOf("https://")){var o=encodeURIComponent(i.counterName),r=[a.replace("/e/","/i/"),"mediaplayout","0","-","bump",window.embeddedMedia.version,"-",e++,o,"init",n.name(),n._version||"-",t.load,t.init,t.playlist||"-"].join("/");navigator.sendBeacon&&navigator.sendBeacon(r,"")}}}}}(),v=function(){function e(e){return a(o(i(e),8*e.length))}function t(e){for(var t,n="0123456789abcdef",i="",a=0;e.length>a;a++){t=e.charCodeAt(a);i+=n.charAt(t>>>4&15)+n.charAt(15&t)}return i}function n(e){for(var t,n,i="",a=-1;++a<e.length;){t=e.charCodeAt(a);n=e.length>a+1?e.charCodeAt(a+1):0;if(t>=55296&&56319>=t&&n>=56320&&57343>=n){t=65536+((1023&t)<<10)+(1023&n);a++}127>=t?i+=String.fromCharCode(t):2047>=t?i+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t))}return i}function i(e){for(var t=Array(e.length>>2),n=0;t.length>n;n++)t[n]=0;for(n=0;8*e.length>n;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function a(e){for(var t="",n=0;32*e.length>n;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}function o(e,t){e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;for(var n=Array(80),i=1732584193,a=-271733879,o=-1732584194,c=271733878,u=-1009589776,p=0;e.length>p;p+=16){for(var m=i,f=a,g=o,h=c,y=u,v=0;80>v;v++){n[v]=16>v?e[p+v]:d(n[v-3]^n[v-8]^n[v-14]^n[v-16],1);var b=l(l(d(i,5),r(v,a,o,c)),l(l(u,n[v]),s(v)));u=c;c=o;o=d(a,30);a=i;i=b}i=l(i,m);a=l(a,f);o=l(o,g);c=l(c,h);u=l(u,y)}return Array(i,a,o,c,u)}function r(e,t,n,i){return 20>e?t&n|~t&i:40>e?t^n^i:60>e?t&n|t&i|n&i:t^n^i}function s(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function l(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function d(e,t){return e<<t|e>>>32-t}function c(i){return t(e(n(i)))}function u(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function p(e){if(e.addEventListener){st.push(e);e.addEventListener("keydown",f)}}function m(){for(var e=0;st.length>e;e++)st[e].removeEventListener("keydown",f);st=[]}function f(e){32==e.keyCode&&e.preventDefault()}function g(){return!!tt}function h(){Q="true"==b(rt,"pgAgeConfirm");tt=b(rt,"pgPIN");nt="true"==b(rt,"pgUnlocked")}function y(e,t){X=[];Q=!1;this.closedCallbacks=[];this.updateCallbacks=[];this.openedCallbacks=[];it=e||{noPlayerAction:function(){}};this.guidance={};this.isOver16=t.over16;this.isUnder16=t.under16;t.over16&&t.under16&&(this.isOver16=!1);at=t;this.usingReith=!1;this.reithEnabled=!at.ui.disableReithFonts;h();this._isLocked=g()&&!nt;Y=window.embeddedMedia.language;this.updateGuidanceState();return this}function v(e,t){var n=document.getElementById(e),i=function(){n.style.transition="0.3s";t?n.style.backgroundColor=at.ui.guidance.pgColour:n.style.color=at.ui.guidance.pgColour},a=function(){n.style.transition="0.3s";t?n.style.backgroundColor=at.ui.guidance.pgBackgroundColour:n.style.color="#ffffff"};n.onmouseover=n.onfocus=i;n.onmouseout=n.onblur=a}function b(e,t){try{var n=document.cookie}catch(i){n=""}var a=n.indexOf(e+t+"=");if(a==-1)return null;a=n.indexOf("=",a)+1;var o=n.indexOf(";",a);o==-1&&(o=n.length);return unescape(n.substring(a,o))}function w(e,t,n,i){var a=new Date;a.setTime(a.getTime()+15552e6*(i?-1:1));if(!i){a.setDate(15);a.setHours(12);a.setMinutes(0);a.setSeconds(0)}var o="; expires="+a.toGMTString(),r=location.hostname;r.indexOf(".bbc.co.uk")!==-1&&(r=".bbc.co.uk");r.indexOf(".bbc.com")!==-1&&(r=".bbc.com");try{document.cookie=e+t+"="+escape(n)+o+"; Domain="+r+"; Path=/"}catch(s){}}function P(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function _(e,t){X.push(e);e.setAttribute("tabindex","0");e.onkeydown=function(t){t=t||window.event;var n=t.keyCode||t.which;if(9==n||13==n){u(t);if(9==n){var i=X.length-1;J=t.shiftKey?0===J?i:J-1:J===i?0:J+1;setTimeout(function(){X[J].focus()},200)}else setTimeout(function(){et=!0;e.click()},200)}};if(t){J=X.length-1;e.focus()}}function C(){J=0;X=[];_($)}function k(e,t,n){t&&n&&n.isUnder16&&(Q=!1);var i="";if(Q){e.style.backgroundPosition="center";i=Y.t("pgAriaAgeConfirmCheckBox",K)}else{e.style.backgroundPosition="-30px";i=Y.t("pgAriaAgeConfirmCheckBoxUnchecked",K)}e.setAttribute("aria-label",i);e.textContent=e.innerText=i}function E(e,t,n){var i=document.getElementById("pgErrorMessage");if(i)P(i);else{i=document.createElement("div");i.id="pgErrorMessage";var a=i.style;a.width=z.style.width;a.backgroundColor=at.ui.guidance.pgSeparatorColour;a.marginTop="15px";a.marginBottom="5px";a.left="-26px";a.position="relative"}n?e.insertBefore(i,e.firstChild):e.appendChild(i);var o=document.createElement("div"),r=o.style;r.fontSize="14px";r.position="relative";r.width="100%";r.color="#ffffff";r.fontSize="11px";r.textAlign="center";r.paddingTop=r.paddingBottom="10px";o.innerHTML='<span style="display:inline-block;  background-image: url(https://emp.bbci.co.uk/emp/assets/2.0.27/alert-color.png); background-repeat: no-repeat; background-size: 100% 100%; margin-right:5px; width:15px; height:13px;"></span>'+t;i.appendChild(o)}function x(e){if(W)return!1;W=document.createElement("div");W.setAttribute("tabindex","0");W.id="parentalGuidanceBackground";W.className="smpPG";var t=W.style;t.width=t.height="5000px";t.left=t.top="-500px";t.zIndex="2147483600";t.backgroundColor="#333333";t.filter="alpha(opacity=85)";t.opacity=.85;z=document.createElement("div");z.id="guidancePopup";z.setAttribute("role","alertdialog");z.setAttribute("aria-labelledby","pgHeaderTitle");z.className="smpPG";var n=z.style;n.position=t.position="fixed";if(400>window.innerWidth){n.width=window.innerWidth-20+"px";n.left="10px"}else{n.width="390px";n.left=(window.innerWidth-390)/2+"px"}if(window.innerHeight>350){n.top="50%";n.marginTop="-175px"}else{n.top="5px";n.marginTop="0px"}n.lineHeight="normal";n.verticalAlign="middle";n.color="white";n.zIndex="2147483600";n.backgroundColor=at.ui.guidance.pgBackgroundColour;n.textAlign="left";if(document.documentElement.className.indexOf("b-reith-sans-font")>=0&&e.reithEnabled){z.className+=" font-family-sans";e.usingReith=!0}else n.fontFamily="helvetica, Arial, sans-serif";document.body.appendChild(W);document.body.appendChild(z);z.onkeydown=function(t){t=t||window.event;var n=t.keyCode||t.which;27===n&&e.close(!1)};var i=document.createElement("div");i.id="guidanceContainer";i.style.paddingRight=i.style.paddingLeft="26px";i.style.textAlign="center";z.appendChild(i);var a=document.createElement("div");a.id="pgHeaderTitle";a.style.height="42px";a.style.position="relative";a.style.marginTop="35px";i.appendChild(a);var o=document.createElement("span");o.innerHTML=Y.t("pgHeader",K);o.id="pgHeader";o.style.fontSize="24px";o.style.color=at.ui.guidance.pgColour;a.appendChild(o);V=document.createElement("div");V.id="guidanceBody";V.style.position="relative";V.style.width="100%";i.appendChild(V);q=document.createElement("div");q.id="guidanceFooter";var r=q.style;r.width="100%";r.height="42px";r.bottom="0px";r.display="table";r.textAlign="center";z.appendChild(q);$=document.createElement("a");$.setAttribute("aria-label",Y.t("pgClose",K));$.id="pgExit";var s=$.style;$.title=Y.t("pgClose",K);s.position="absolute";s.right=s.top="12px";s.cursor="pointer";s.width=s.height="18px";s.backgroundImage="url(https://emp.bbci.co.uk/emp/assets/2.0.27/GEL_Remove_icon.png)";s.backgroundRepeat="no-repeat";z.appendChild($);p($);var l=!1;setTimeout(function(){l=!0},500);$.onclick=function(t){if(l){t=t||window.event;u(t);O(!1,this.id);e.close(!1)}};return!0}function S(e){var t=document.createElement("div"),n=t.style;n.marginTop="-1px";n.position="absolute";n.width="100%";n.height="1px";n.backgroundColor=at.ui.guidance.pgSeparatorColour;e.appendChild(t)}function T(e,t){function n(){if(r){O(!1,i.id);s()}}var i=document.createElement("a");i.id=t.id;i.textContent=i.innerText=t.text;i.setAttribute("aria-label",t.text+" button");var a=i.style;a.cursor="pointer";try{a.display="table"}catch(o){a.display="block"}a.verticalAlign="middle";a.width="100%";a.lineHeight="3.5";a.fontSize="14px";a.color="#ffffff";a.backgroundColor=at.ui.guidance.pgBackgroundColour;q.appendChild(i);v(t.id,!0);p(i);var r=!1;setTimeout(function(){r=!0},500);var s=t.clickFunction;i.onclick=n;_(i,t.focus);return i}function I(e,t,n){P(q);S(q);var i=T(e,t);if(n){i.style.borderBottom="1px solid "+at.ui.guidance.pgSeparatorColour;T(e,n)}}function L(e,t){P(V);C();var n=document.createElement("div");n.id="guidanceMessage";var i=n.style;i.marginTop="15px";i.marginBottom="5px";i.width="100%";i.position="relative";i.fontSize="13px";V.appendChild(n);A("newAgeConfirmationTitle");var a=document.createElement("div");a.id="guidanceG";var o=a.style;o.display="inline-block";o.margin="auto";o.borderRadius="50%";o.width=o.height="15px";o.backgroundColor="red";o.position="relative";o.top="-2px";o.fontSize="12px";e.usingReith&&(o.lineHeight="1px");n.appendChild(a);var r=document.createElement("span");r.innerHTML="G";var s=r.style;s.lineHeight="normal";s.position="relative";s.left="-0.5px";s.top="1px";s.color="#ffffff";s.fontFamily="Arial, Helvetica, freesans, sans-serif";e.usingReith&&(s.left="0");a.appendChild(r);var l=document.createElement("span");l.id="guidanceText";l.textContent=l.innerText=t;if(e.isUnder16){l.appendChild(document.createElement("br"));l.appendChild(document.createElement("br"));var d=document.createElement("span");d.textContent=d.innerText=Y.t("newUnder16WithPermission",K);l.appendChild(d)}s=l.style;s.left="0px";s.top="16px";s.marginLeft="5px";s.lineHeight="16px";s.color="#b2b7c4";n.appendChild(l);var c=document.createElement("div");c.id="ageConfirm";var u=c.style;u.width="100%";u.height="57px";u.position="relative";u.fontSize="14px";u.color="#ffffff";u.display="-ms-inline-flexbox";u.justifyContent="center";V.appendChild(c);var p=document.createElement("button");p.id="ageConfirmCheck";var m=p.style;m.background="url(https://emp.bbci.co.uk/emp/assets/2.0.27/tick.png) no-repeat center";m.backgroundPosition="-30px";m.position="absolute";m.top="16px";m.height=m.width="25px";m.verticalAlign="middle";m.cursor="pointer";m.backgroundColor="#ffffff";m.borderWidth="0";m.textIndent="-9999px";m.whiteSpace="nowrap";m.overflow="hidden";c.appendChild(p);_(p,!0);k(p,!0,e);var f=document.createElement("span");f.innerHTML=e.isUnder16?Y.t("newPgAgeConfirmationUnder16",K):Y.t("pgAgeConfirmation",K);f.style.position="relative";f.style.top="20px";f.style.marginLeft="35px";c.appendChild(f);var g=!1;setTimeout(function(){g=!0},500);p.onclick=function(){if(g){Q=!Q;k(p)}};var h=function(){if(e.isUnder16&&Q){e.storeAgeConfirmation();e.setUnder16Permission(!0);e.updateGuidanceState();e.close(!0)}else if(Q)N(e);else{var t=e.isUnder16?Y.t("pgUnder16PermissionValidationError",K):Y.t("pgPasswordValidationError",K);E(n,t,!1)}},y=e.isUnder16?Y.t("newPgPlay",K):Y.t("pgContinue",K);I(e,{id:"pgAgeContinue",text:y,clickFunction:h})}function A(e){var t=document.getElementById("pgHeader");t.textContent=t.innerText=Y.t(e,K)}function N(e){P(V);C();var t=document.createElement("div");t.setAttribute("role","alertdialog");t.setAttribute("aria-labelledby","pgInfoHeader");t.setAttribute("aria-describedby","pgInfo");t.style.marginBottom="24px";V.appendChild(t);A("newPgTurnOnParentalGuidance");if(Z)var n="pgInfo",i="pgUnlock";else{var a=e._intent;if("download"==a){n="pgInfoPlusDownload";i="pgDownload"}else if("play"==a){n="pgInfoPlusPlay";i="newToolTipPlay"}else{n="pgInfo";i=a}}var o=document.createElement("div");o.id="infoLinkContainer";var r=document.createElement("div");r.style.color="#b2b7c4";var s=Y.t("notSuitableForChildMessage",K)+'</br> </br>  <a id="pgLink" target="_blank" style="color:#ffffff; text-decoration:none; font-size:0.9em;" href="//www.bbc.co.uk/iplayer/guidance">'+' <div style="display:inline-block; margin-right: 5px; color:black; font-weight:bold; width:13px; height:13px; background-color:white; border-radius:50px;font-family: Arial, Helvetica, freesans, sans-serif;">i</div>'+Y.t("findOutMore",K)+"</a> ",l=document.createElement("div");l.id="pgInfo";l.style.fontSize="13px";l.style.color="#868686";l.style.marginTop="35px";t.appendChild(l);l.appendChild(o);o.style.margin=" 0 auto";o.appendChild(r);r.innerHTML=s;var d=document.getElementById("pgLink");d.setAttribute("aria-label",Y.t("findOutMore",K));d.style.outline="none";p(d);r.style.display="inline-block";o.style.textAlign="center";var c=l.getElementsByTagName("p");if(c)for(var u=0;c.length>u;u++){c[u].style.color="#868686";c[u].style.fontSize="13px"}var m=document.getElementById("pgLink"),f=!1;setTimeout(function(){f=!0},500);m.onclick=function(){return f};_(m,!0);var g=function(){if(f){e.storeAgeConfirmation();R(e)}},h=function(){if(f){e.storeAgeConfirmation();e.close(!0)}},y={id:"pgTurnOn",text:Y.t("newPgTurnOn",K),clickFunction:g},b={id:"toolTipPlay",text:Y.t(i,K),clickFunction:h};I(e,y,Z?null:b);v("pgLink")}function M(e){var t=document.createElement("div");t.id="pinEntry";t.style.width="100%";t.style.height="40px";t.style.marginBottom="20px";e.appendChild(t);var n=document.createElement("input");n.id="pinEntryInputBox";var i=n.style;n.setAttribute("maxlength",4);i.letterSpacing="5px";i.display="block";i.margin="0 auto";i.height="100%";i.width="60%";i.padding="0px";i.resize="none";i.color="#868686";i.fontSize="30px";i.textAlign="center";n.setAttribute("type","password");n.pattern="[0-9]*";t.appendChild(n);return n}function O(e,t){it.noPlayerAction(et||e?"key_press":"click",t,null,at);et=!1}function D(e,t){var n=!1,i=function(i){i=i||window.event;var a=i.keyCode||i.which;if(13===a&&n){O(!0,e.id);setTimeout(t,300)}};setTimeout(function(){n=!0},400);e.addEventListener?e.addEventListener("keyup",i):e.onkeyup=i}function R(e){P(V);C();A("newPgTurnOnParentalGuidancePINsection");var t=document.createElement("div");t.id="activatePIN";t.style.marginTop="35px";t.style.fontSize="14px";t.style.color="#ffffff";V.appendChild(t);var n=document.createElement("span");n.innerHTML=Y.t("newPgEnterPIN",K);n.style.fontSize="14px";n.style.color="#ffffff";t.appendChild(n);var i=document.createElement("div");i.innerHTML='<span style="color:#b2b7c4;">'+Y.t("newPgActivateInfo",K)+"</span>";i.id="activatePINInfo";i.style.marginTop="10px";i.style.marginBottom="24px";i.style.fontSize="14px";i.style.color="#868686";V.appendChild(i);var a=M(V);a.setAttribute("aria-label",Y.t("pgAriaPINEntryDescription",K)+"."+Y.t("pgAriaPINPrompt",K));_(a,!0);var o=function(){if(/^\d{4}$/.test(a.value)){e.setPIN(a.value);e.setLocked(Z);e.close(!Z)}else{a.value="";E(i,Y.t("newPgPINvalidationError",K),!1);a.focus()}},r=F(e._intent,"pgActivate");D(a,o);I(e,{id:"pgActivate",text:Y.t(r,K),clickFunction:o})}function B(e,t){var n=document.createElement("div");n.style.marginBottom="20px";n.style.width="100%";n.style.height="15px";e.appendChild(n);var i=document.createElement("a");i.setAttribute("target","_blank");i.setAttribute("href","//www.bbc.co.uk/iplayer/guidance");i.id="manageLock";i.innerHTML=t;i.style.color="#ffffff";i.style.textDecoration="none";i.style.width="100%";i.style.fontSize="12px";i.style.bottom="0px";i.style.textAlign="center";n.appendChild(i);v("manageLock");p(i);return i}function U(e){P(V);C();A("newPgTurnOnParentalGuidanceInsertPIN");var t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("span"),a=document.createElement("div");
a.id="needPINinfo";t.id="enterPIN";i.innerHTML=Y.t("newPgEnterPINprompt",K);t.style.marginTop=t.style.paddingBottom="16px";t.style.width="100%";t.style.position="relative";t.style.fontSize=i.style.fontSize="14px";i.style.color="#ffffff";t.style.marginTop=330>z.offsetWidth?"25px":"5px";V.appendChild(t);t.appendChild(n);n.appendChild(i);t.appendChild(a);a.innerHTML=Y.t("newPgEnterPINinfo",K);a.style.color="rgb(134, 134, 134)";a.style.marginTop="15px";var o=M(V);o.setAttribute("aria-label",Y.t("pgAriaPINEntryDescription",K)+"."+Y.t("newPgEnterPINprompt",K));_(o,!0);var r=B(V,Y.t("newPgManageYourPIN",K));_(r);r.onclick=function(){return s};var s=!1;setTimeout(function(){s=!0},500);var l=function(){if(s)if(e.verifyPIN(o.value)){Z&&w(rt,"pgUnlocked","true");e.isUnder16&&e.setUnder16Permission(!0);e.setLocked(!1);e.close(!0)}else{o.value="";E(a,Y.t("newPgIncorrectPIN",K),!1);o.focus()}};D(o,l);var d=F(e._intent,"pgUnlock");I(e,{id:"pgTurnOff",text:Y.t(d,K),clickFunction:l})}function j(){dt++;clearTimeout(ot);ot=setTimeout(H,100);setTimeout(G,300)}function F(e,t){return Z?t:"download"==e?"pgDownload":"play"==e?"toolTipPlay":e}function H(){if(W){var e=W.style;e.left=e.top="-500px";e.height=e.width="5000px"}if(z){var t=Math.floor(window.innerWidth/2-z.offsetWidth/2);(0>t||dt>0)&&(t=0);window.innerWidth>=400&&(z.style.left=t+"px");var n=window.innerHeight-z.offsetHeight;if(window.innerHeight>=z.offsetHeight){var i=Math.floor(n/2);(dt>0||5>i)&&(i=5)}else i=2;z.style.marginTop="0px";z.style.top=i+"px"}}function G(){var e=document.getElementById("pgHeader"),t=document.getElementById("pgInfo"),n=document.getElementById("pgHeaderTitle"),i=document.getElementById("enterPIN"),a=document.getElementById("pinEntry"),o=document.getElementById("pgErrorMessage"),r=document.getElementById("needPINinfo"),s=document.getElementById("activatePIN"),l=document.getElementById("activatePINInfo"),d=document.getElementById("pinEntryInputBox");if(z.offsetHeight>window.innerHeight){t&&(t.style.marginTop="10px");z.style.width=window.innerWidth-20+"px";e.style.fontSize="22px";z.style.left="10px";if(n){n.style.marginTop="10px";n.style.height="35px"}s&&(s.style.marginTop="0");if(i){i.style.marginTop=330>z.offsetWidth?"25px":"5px";i.style.marginBottom="5px";i.style.paddingBottom="0"}a&&(a.style.marginBottom="10px");d&&(d.style.width="30%");if(o){o.style.marginTop="5px";o.style.width=window.innerWidth-20+"px";o.style.marginLeft="0px";o.style.left="-26px";l&&(l.style.marginBottom="5px")}if(r){r.style.marginTop="5px";r.style.marginBottom="5px"}}else{z.style.left=(window.innerWidth-z.offsetWidth)/2+"px";if(n){n.style.marginTop="35px";n.style.height="42px"}s&&(s.style.marginTop="35px");a&&(a.style.marginBottom="15px");d&&(d.style.width="60%");if(420>window.innerWidth){z.style.width=window.innerWidth-20+"px";z.style.left="10px";t&&(t.style.marginTop="35px");if(o){o.style.marginTop="15px";o.style.width=window.innerWidth-20+"px";o.style.marginLeft="0px";o.style.left="-26px";l&&(l.style.marginBottom="24px")}}r&&(r.style.marginTop="15px");if(i){i.style.marginTop=330>z.offsetWidth?"25px":"5px";i.style.paddingBottom="16px"}}}var W,z,V,q,$,K,Y,J,X,Q,Z,et,tt,nt,it,at,ot,rt="ckns_",st=[],lt=!1,dt=0;y.prototype={show:function(e,t,n,i){var a=this;K=n;h();e||(e={});Z=e.lockClicked;a._intent=e.intent||"play";window.embeddedMedia.opened({type:"guidanceShown",intent:a._intent});if(i)for(var o=0;a.openedCallbacks.length>o;o++)a.openedCallbacks[o]();var r=Q&&(!g()||!a._isLocked);a.isOver16&&(Q=!0);if(!r||Z||a.isUnder16){if(x(a)){g()&&!nt&&!this.guidance.under16permissionConfirmed&&this._isLocked?U(a):Z&&r||a.isOver16?N(a):L(a,e.guidance);document.body.addEventListener&&document.body.addEventListener("touchmove",u);dt=0;if(window.addEventListener){window.addEventListener("resize",H);window.addEventListener("orientationchange",j)}}}else a.close(!0)},close:function(e,t){var n=this;document.body.removeEventListener&&document.body.removeEventListener("touchmove",u);if(window.removeEventListener){window.removeEventListener("resize",H);window.removeEventListener("orientationchange",j)}m();if(W){W.parentNode.removeChild(W);W=void 0}if(z){z.parentNode.removeChild(z);z=void 0}if(!t){var i={type:"guidanceClosed"};i.success=e;window.embeddedMedia.closed(i);for(var a=0;n.closedCallbacks.length>a;a++)n.closedCallbacks[a](e)}},setPIN:function(e){tt=c("smpembed"+e);w(rt,"pgPIN",tt)},setLocked:function(e,t){if(t){w(rt,"pgUnlocked",e?"":"true");nt=!e}this._isLocked=e;this.updateGuidanceState()},verify:function(e,t){var n=this.verifyPIN(e.verifyPIN);if(n){this.setLocked(!1);e.lockClicked&&w(rt,"pgUnlocked","true")}t(n)},verifyPIN:function(e){return c("smpembed"+e)===tt},setAgeConfirmation:function(e){Q=e;this.storeAgeConfirmation()},storeAgeConfirmation:function(){if(!this.isUnder16){w(rt,"pgAgeConfirm",Q);this.setLocked(!0)}},setUnder16Permission:function(e){lt=e;this.updateGuidanceState()},updateGuidanceState:function(){var e=this.guidance;e.isGuidanceLocked=this._isLocked&&g()&&!nt;e.hasGuidancePIN=g();e.guidanceSkipped=Q&&!g();e.guidancePINPassed=!this._isLocked&&g();e.under16permissionConfirmed=lt;e.canPlay=e.guidanceSkipped||e.hasGuidancePIN&&e.guidancePINPassed||nt;!this.isUnder16||e.isGuidanceLocked&&!e.guidancePINPassed||e.under16permissionConfirmed||(e.canPlay=!1);for(var t=0;this.updateCallbacks.length>t;t++)this.updateCallbacks[t](e)}};return y}(),b=function(){var e,t=!1;return{addCloseSettingsPanelsListener:function(){if(!t){var i=this;e=function(e){for(var t=document.querySelectorAll(".p_dontCloseSettingsPanel"),n=0;t.length>n;n++)if(t[n]==e.target||t[n].contains(e.target))return;i.closeSettingsPanels()};n.upAction(document,e,!0);t=!0}},removeCloseSettingsPanelsListener:function(){n.removeUpAction(document,e,!0);t=!1},closeSettingsPanels:function(){for(var e=0;window.embeddedMedia.players.length>e;e++){window.embeddedMedia.players[e].playbackSettingsPanel&&window.embeddedMedia.players[e].playbackSettingsPanel.close();window.embeddedMedia.players[e].call("closedSettingsPanels")}this.removeCloseSettingsPanelsListener()},insertSettingsOverlay:function(){var e=document.getElementById("p_settingsOverlay");if(!e){e=document.createElement("div");e.id="p_settingsOverlay";n.upAction(e,function(e){e.preventDefault()});document.body.appendChild(e);this.settingsOverlay=e}},showOverlay:function(e){this.settingsOverlay.style.backgroundColor=e;n.className(this.settingsOverlay,"p_showing")},hideOverlay:function(){n.className(this.settingsOverlay,"","p_showing")}}}(),w=function(){function e(e){var t=e.playbackSettingsContainer=document.createElement("div");t.id="p_playbackSettingsContainer_"+e.id;t.className="p_playbackSettingsContainer p_dontCloseSettingsPanel p_bumpUI";t.style.display="none";var i=document.createElement("div");i.className="p_playbackSettingsContainerInner";var a=document.createElement("div");a.className="p_playbackSettingsHeading";a.textContent=window.embeddedMedia.language.t("playbackSettingsHeading",e.settings.locale());var r=document.createElement("div");r.className="p_playbackSettingsColumn";var s=e.toggleSetting=new o(e.settings,"p_autoplayToggle",null,"",window.embeddedMedia.language.t("autoplaySettingHeading",e.settings.locale()),window.embeddedMedia.language.t("autoplaySettingSubheading",e.settings.locale()));s.attachChangeListener(function(t,n){if("turningOn"==t){e.player.settings({continuousPlay:!0});e.player.sonar.action("playback_settings_continuous_play_toggle_on",n)}else{e.player.settings({continuousPlay:!1});e.player.sonar.action("playback_settings_continuous_play_toggle_off",n)}});var l=e.toggleSettingElement=s.getDomNodes()[0],d=document.createElement("div");d.className="p_playbackSettingsContainer_downArrow";var c=document.createElement("button");c.textContent="Close playback settings panel";c.id="p_playbackSettingsContainer_startFocusPusher";n.multiAddEventListener(c,"focus click",function(){if(e.bottomPanelMode){e.close();e.player.trigger({type:"focusPlaybackSettingsButton"})}else e.close(!0)});var u=document.createElement("button");u.textContent="Close playback settings panel";u.id="p_playbackSettingsContainer_endFocusPusher";n.multiAddEventListener(u,"focus click",function(){if(e.bottomPanelMode){e.close();e.player.trigger({type:"focusPlaybackSettingsButton"})}else e.close(!0)});i.appendChild(c);i.appendChild(a);i.appendChild(r);r.appendChild(l);i.appendChild(u);t.appendChild(i);t.appendChild(d);document.body.appendChild(t);b.insertSettingsOverlay()}function t(e){e.settings.continuousPlay?e.toggleSetting.setOn():e.toggleSetting.setOff();e.toggleSettingElement.style.display=e.settings.ui.playbackSettingsPanel&&e.settings.ui.playbackSettingsPanel.continuousPlaySetting?"block":"none"}function i(i){var a=this;n.getBumpStylesheet();this.id=i._settings.domid;this.player=i;this.settings=this.player._settings;e(this);n.nonPointerFocusListeners.addNonPointerFocusListeners();this.player._settings.addSettingsChangedListener(function(){t(a)});t(a);window.addEventListener("resize",function(){a.isShowing()&&a.player.call("repositionBumpPlaybackSettingsPanel")})}i.prototype.showPanel=function(e,t){this.bottomPanelMode=!1;b.closeSettingsPanels();b.addCloseSettingsPanelsListener();this.playbackSettingsContainer.style.display="";n.className(this.playbackSettingsContainer,"p_panel p_showing","p_bottomPanel");this.playbackSettingsContainer.style.top=this.player.getTop()+t-this.playbackSettingsContainer.offsetHeight+"px";this.playbackSettingsContainer.style.left=this.player.getLeft()+e-this.playbackSettingsContainer.offsetWidth+"px";this.player.call("bumpSettingsPanelOpen",{type:"playbackSettings"});this.player.trigger({type:"playbackSettingsPanelOpen"})};i.prototype.repositionPanel=function(e,t){var n=this,i=n.player._container.clientWidth;if(n.bottomPanelMode)i>599&&e&&t&&n.showPanel(e,t);else if(600>i)n.showBottomPanel();else{n.playbackSettingsContainer.style.top=n.player.getTop()+t-n.playbackSettingsContainer.offsetHeight+"px";n.playbackSettingsContainer.style.left=n.player.getLeft()+e-n.playbackSettingsContainer.offsetWidth+"px"}};i.prototype.showBottomPanel=function(){var e=this;this.bottomPanelMode=!0;b.closeSettingsPanels();b.showOverlay(this.settings.ui.playbackSettingsPanel.overlayColour);b.addCloseSettingsPanelsListener();this.playbackSettingsContainer.style.display="";n.className(this.playbackSettingsContainer,"p_bottomPanel p_showing","p_panel");this.playbackSettingsContainer.style.top="";this.playbackSettingsContainer.style.left="";e.focus();this.player.call("bumpSettingsPanelOpen",{type:"playbackSettings"});this.player.trigger({type:"playbackSettingsPanelOpen"})};i.prototype.close=function(e){if(n.hasClass(this.playbackSettingsContainer,"p_showing")){n.className(this.playbackSettingsContainer,"","p_showing");b.hideOverlay();this.player.trigger({type:"playbackSettingsPanelClosed"});this.player.call("closedPlaybackSettingsPanel",{focusButton:!!e})}};i.prototype.focus=function(){this.toggleSettingElement.focus()};i.prototype.isShowing=function(){return n.hasClass(this.playbackSettingsContainer,"p_showing")};i.prototype.setNonPointerFocus=function(){n.className(this.playbackSettingsContainer,"nonPointerFocus")};i.prototype.removeNonPointerFocus=function(){n.className(this.playbackSettingsContainer,"","nonPointerFocus")};return i}(),P=function(){function e(e,t){t=t||{};try{var n=[];if(e.media){var i=e.media.getVersionId()||e.media.getServiceId()||e.media.getVpId()||e.media.getNonPipsContentId();i&&n.push("PID="+i)}if(e.player){var a=e.player;t.includeVolume&&n.push("VOL="+(11*a.volume()).toFixed(0));if(t.playState!==!1){var o="unknown",r=a.player;r._seeking?o="seeking":r._ended&&(o="ended");"unknown"==o&&(r._paused?o="paused":r._playing&&(o="playing"));n.push("PST="+o)}}}catch(s){console.log("SON",s)}t.metadata||(t.metadata=n.join("~").substr(0,250));return t}function t(){var e=this;this.duration=0;this.isLive=!1;this.hasPlayed=!1;this.hasSetMediaItem=!1;return e}function n(e,t){for(var n in e)e.hasOwnProperty(n)&&"undefined"!=typeof e[n]&&(t[n]=e[n]);return t}function i(e){var t="",n=!1;try{t=document.cookie+""}catch(i){}var a=t.indexOf("ckns_policy="),o=t.indexOf("ckns_explicit=1");if(a>=0&&o>=0){var r=t.substr(a+14,1);"1"===r&&(n=!0)}var s=!1,l=e.counterName+"";l.indexOf("iplayer.tv")>=0&&(s=!0);return n&&e.enableBarbReporting&&s}function a(e,t){if(r){t||(t={connections:[]});e.end();e.durationSet=!1;e.isLive=t.isLive;var n=e.isLive?d.MediaConsumptionMode.LIVE:d.MediaConsumptionMode.ON_DEMAND,i="audio"==t.type?d.AvType.AUDIO:d.AvType.VIDEO,a=e.player.player._statsObject||{};a.overrideConsumptionMode&&(n=a.overrideConsumptionMode);var s=e.media=new o(i,n),l=t.identifier,c=t.versionID,u=t.serviceID;a.overrideVersionPID&&(c=a.overrideVersionPID);if(l){if(!c&&!u){s.setVpId(l);e.isLive?s.setServiceId(l):s.setVersionId(l)}}else if(a.playlistURL){var p=(a.playlistURL+"").replace(/\W+/gim,"-");s.setNonPipsContentId(p)}c&&s.setVersionId(c);u&&s.setServiceId(u);e.playlistName&&s.setPlaylist(e.playlistName);e.title&&s.setName(e.title);if(e.parentPID){e.parentPIDType==d.PIPsType.EPISODE&&s.setEpisodeId(e.parentPID);e.parentPIDType==d.PIPsType.CLIP&&s.setClipId(e.parentPID)}if(e.episodePID){s.setType(d.PIPsType.EPISODE);s.setEpisodeId(e.episodePID)}if(e.clipPID){s.setType(d.PIPsType.CLIP);s.setClipId(e.clipPID)}e.brandPID&&s.setBrand(e.brandPID);e.seriesPID&&s.setSeries(e.seriesPID);var m=e.player.player.playlist;m&&m.masterbrand&&m.masterbrand.id&&s.setProducerByMasterbrand(m.masterbrand.id);a.producer&&s.setProducer(a.producer);a.wsPartnerId&&s.setWsPartnerId(a.wsPartnerId);a.castingDeviceReferrer&&s.setCastingDeviceReferrer(a.castingDeviceReferrer);m&&m.hasAds&&s.setAdsEnabled(!0);e.player._settings.embeddedOffsite&&s.setIsEmbedded(!0);try{e.echo.setMedia(s);e.hasSetMediaItem=!0}catch(f){e.hasSetMediaItem=!1;console.log("SON",f)}}else e.delayedMediaSet=!0}var o,r,s,l,d={WindowState:{}};t.prototype={initComplete:function(e){var t=this;if(!t.delayed){t.delayed=[];var n=function(e){return function(){var n=arguments;t.delayed.push(function(){t.echo[e].apply(t.echo,n)})}};t.echo={userActionEvent:n("userActionEvent"),setMedia:n("setMedia"),setMediaLength:n("setMedia"),setPlayerVersion:n("setPlayerVersion"),setCounterName:n("setCounterName"),setPlayerIsSubtitled:n("setPlayerIsSubtitled"),setPlayerVolume:n("setPlayerVolume"),setPlayerWindowState:n("setPlayerWindowState"),setProducer:n("setProducer"),setProducerByMasterbrand:n("setProducerByMasterbrand")}}if(r&&!t._echo){var o=e._settings,l=e.name().replace(/-/gm,""),c=o.appName&&""!==o.appName?o.appName:l,u=o.appType&&""!==o.appType?o.appType:d.ApplicationType.WEB,p={},m=e.player._statsObject||{};p[s.COMSCORE_ENABLED]=!1;p[s.BARB_ENABLED]=i(o);p[s.BARB_DEBUG]=!1;p[s.BARB_SITE_CODE]=o.liveEnvironment?"bbcdotcom":"bbcdotcomtest";var f=m.echoProfile||"public_service";p[s.REPORTING_PROFILE]=f;p[s.USE_ESS]=!0;if(!o.liveEnvironment){p[s.ESS_HOSTNAME]="ess.test.api.bbci.co.uk";p[s.REMOTE_CONFIG_URL]="https://mybbc-analytics.stage.files.bbci.co.uk/analytics-remote-config/"}p[s.ATI_ENABLED]=o.enableAtiReporting;p[s.ATI_FORCE_HTTPS]=!0;m.deviceId&&(p[s.ECHO_DEVICE_ID]=m.deviceId);m.destination&&(p[s.DESTINATION]=m.destination);var g=function(){var e=t._echo;t.echo=e;o.appVersion&&e.setAppVersion(o.appVersion);t.player.player._version&&t.echo.setPlayerVersion(t.player.player._version);t.processNewSettings();e.setPlayerName(l);e.setPlayerDelegate({getPosition:function(){return t.currentTime()},getTimestamp:function(){return t.currentTime(!0)}});if(t.delayedMediaSet){a(t,t.player.player._mediaItem);t.delayedMediaSet=!1}for(var n=0;t.delayed.length>n;n++)t.delayed[n]()};try{t._echo=new r(c,u,p,null,g)}catch(h){console.log("SON",h)}}},report:function(e){var t=this;if(t.hasSetMediaItem){var n=t.currentTime();t.echo["av"+e+"Event"](n)}},noPlayerAction:function(e,t,i,a){var o=this;if(o.echo)o.action(e,t,i);else{if(!o.nonPlayerEcho&&r){a||(a={});var l={};l[s.REPORTING_PROFILE]="public_service";var c=a.appName&&""!==a.appName?a.appName:name,u=a.appType&&""!==a.appType?a.appType:d.ApplicationType.WEB;o.nonPlayerEcho=new r(c,u,l);o.nonPlayerEcho.setCounterName(a.counterName||"smp.no-player.page")}o.nonPlayerEcho&&o.nonPlayerEcho.userActionEvent(e,t,n(i,{}))}},end:function(){this.hasPlayed&&this.report("End")},action:function(e,t,i){var a=this;a.echo&&a.echo.userActionEvent(e,t,n(i,{}))},newPlayer:function(e,t){var n=this;n.player=e;if(t||n.boundEvents){n.boundEvents=!0;var i=t?"bind":"unbind";e[i]("durationchange initialised mediaItemChanged playing playlistLoaded playlistLoading SonarSeekingEvent SonarEndEvent SonarPauseEvent SonarPlayEvent SonarBufferEvent error SonarResumeEvent SonarSeekEvent SonarUserActionEvent volumechange uiinfo fullscreenEnter fullscreenExit picInPicStarted picInPicStopped statsConfigChanged",{sonarReporter:n},n.eventHandler);n.initComplete(e)}},init:function(e,t){var n=this,i=function(e){if(e){o=e.Media;r=e.EchoClient;d=e.Enums;s=e.ConfigKeys;l=e.Environment;if(o&&r&&d&&s&&l){var t=n.player;if(t){t._settings.liveEnvironment||e.Debug.enable();n.initComplete(t)}}}};if(window.require&&require.config){var a={},c="12.18.0",u="echo-"+c;if((t+"").match(/^iplayer\./)){u="echo-0.1.0-avi";a[u]="https://mybbc-analytics.files.bbci.co.uk/echo-client-js/avi-prototype/echo.0.1.0-avi"+(e?"":".min")}else a[u]="https://mybbc-analytics.files.bbci.co.uk/echo-client-js/echo-"+c+(e?"":".min");require.config({paths:a});require([u],i)}else try{i(window.echo_js)}catch(p){}},eventHandler:function(t,n){var i=n||t.data.sonarReporter;if(i.echo)switch(t.type){case"durationchange":if(i.media&&!i.isLive&&t.duration>0&&!i.durationSet){i.echo.setMediaLength(1e3*t.duration);i.durationSet=!0}break;case"initialised":i.player.player._version&&i.echo.setPlayerVersion(i.player.player._version);break;case"mediaItemChanged":i.hasPlayed=!1;a(i,t.mediaItem);break;case"playing":i.hasPlayed=!0;break;case"playlistLoaded":i.processNewSettings();break;case"playlistLoading":i.end();break;case"SonarSeekingEvent":i.report("Seek");break;case"error":t&&"critical"==t.severity&&i.end();break;case"SonarEndEvent":case"SonarPauseEvent":i.report("Pause");break;case"SonarPlayEvent":case"SonarResumeEvent":i.report("Play");break;case"SonarBufferEvent":i.report("Buffer");break;case"SonarSeekEvent":i.player.paused()||i.report("Play");break;case"SonarUserActionEvent":i.action(t.actionType,t.controlId,e(i,t.labels));break;case"volumechange":i.echo.setPlayerVolume(t.muted?0:t.volume);break;case"uiinfo":i.echo.setPlayerIsSubtitled(!!t.subtitles);break;case"fullscreenEnter":i.echo.setPlayerWindowState(d.WindowState.FULL);break;case"fullscreenExit":case"picInPicStopped":i.echo.setPlayerWindowState(d.WindowState.NORMAL);break;case"picInPicStarted":i.echo.setPlayerWindowState(d.WindowState.PICTUREINPICTURE);break;case"statsConfigChanged":t.counterName&&(i.player._settings.counterName=t.counterName)}},volume:function(e){var t=this;e>=0&&1>e&&t.echo.setPlayerVolume(Math.floor(100*e))},processNewSettings:function(){if(r){var e=this,t=e.player._settings,n=e.player.player._statsObject||{},i=e.player.player.playlist;e.echo.setCounterName(t.counterName);i&&i.masterbrand&&i.masterbrand.id&&e.echo.setProducerByMasterbrand(i.masterbrand.id);n.producer&&e.echo.setProducer(n.producer);e.parentPID=n.parentPID;e.parentPIDType=d.PIPsType.EPISODE;e.episodePID=n.episodePID;e.clipPID=n.clipPID;e.brandPID=n.brandPID;e.seriesPID=n.seriesPID;e.playlistName=n.playlistName;i&&i.title&&(e.title=i.title.substr(0,60));(n.parentPIDType+"").indexOf("clip")!=-1&&(e.parentPIDType=d.PIPsType.CLIP)}},currentTime:function(e){var t=this,n=Math.round(1e3*t.player.currentTime());return e?1e3*60*60*24*365>n?0:n:t.isLive?0:n}};return t}(),_=function(){function t(){return window.performance&&window.performance.now&&window.performance.now().toFixed(0)}function i(e){var t=e._settings;if("audio"!=t.ui.skin){var n=t.container,i=t.posterUrl(n);if(!i||e.player&&!e.player.includePoster)n.style.backgroundImage="";else{var a="contain";(t.ui.displayCover||Math.abs(16/9-n.getBoundingClientRect("width")/n.getBoundingClientRect("height"))<.2)&&(a="cover");n.style.backgroundImage="url("+i+")";n.style.backgroundRepeat="no-repeat";n.style.backgroundPosition="center center";n.style.backgroundSize=a;n.style.backgroundColor="black";n.style.overflow="hidden"}"html"==e.type&&(n.style.overflow="")}}function o(t,n){var i=window.embeddedMedia;s=e.get();s.os.phantomjs&&(n.enableRdotReporting=!1);this.bumpRevision="-1";this.player=new l;this.player.fake=!0;this._events={};this.capability={markers:!1,queuedPlaylist:!1,previousPlaylist:!1,inPage:!1,chromecast:!1,overlay:!1};n.container=t;n.domid=t.getAttribute("id");var o=this._settings=new a(n);if(o.enableSonarReporting&&!o.noTracking){this._sonarReporter=new P;this._sonarReporter.init(o.html5Debug,n.counterName)}i.parentalGuidance||(i.parentalGuidance=new v(this._sonarReporter,o));o.guidance=i.parentalGuidance.guidance;var r=this,d=i.parentalGuidance;d.closedCallbacks.push(function(){var e={type:"guidanceClosed",guidance:o.guidance};r.trigger(e)});d.openedCallbacks.push(function(){var e={type:"guidanceShown"};r.trigger(e)});d.updateCallbacks.push(function(e){e.noPin=o.guidanceCleared;o.guidance=e;var t={type:"guidanceUpdated",guidance:o.guidance};r.trigger(t)});this._decisionEngine=new h(o);return this}var s;o.prototype={showGuidance:function(e,t,n,i){var a={lockClicked:n};a.title=e?e:"";a.guidance=t?t:"";a.intent=i?i:"play";var o=window.embeddedMedia.parentalGuidance,r=this._settings;r.guidanceCleared||o.show(a,r.ui.colour,r.locale(),!0)},lockGuidance:function(){this._settings.guidance.hasGuidancePIN===!0?window.embeddedMedia.parentalGuidance.setLocked(!0,!0):this.unlockGuidance()},unlockGuidance:function(){this.showGuidance("","",!0)},name:function(){return this._decisionEngine.name||"no-player"},decide:function(){(!this.player||this.player.fake||"smp-phantom"==this.name()&&!this._settings.phantomPlayer)&&(this.player=this._decisionEngine.decide());return this.name()},settings:function(e){if(e){this._settings.set(e);this.player.updateConfig(e)}return this._settings},distributedConfig:function(e,t){if(!n.isObjectEmpty(e)){"ui"==t&&(e={ui:e});this._settings.set(e,!0);"ui"==t?this.player.updateUiConfig(e.ui):this.player.updateConfig(e)}},poster:function(e){if("string"==typeof e){this._settings._poster=e;i(this)}},play:function(e){this.player.play(e!==!1)},pause:function(){this.player.pause()},suspend:function(){this.player.suspend()},next:function(e){this.player.next(e)},previous:function(e){this.player.previous(e)},currentTime:function(e){return this.player.currentTime(e)},showSubtitles:function(e){return this.player.showSubtitles(e)},showBumpPlaybackSettings:function(){this.player.showBumpPlaybackSettings()},duration:function(){return this.player.duration()},muted:function(e){return this.player.muted(e)},queuePlaylist:function(e,t){var n=this,i=n.player;i.queuePlaylist(e,t)},setPreviousPlaylist:function(e,t){var n=this,i=n.player;i.setPreviousPlaylist(e,t)},loadPlaylist:function(e,t){var a=this,o=a.player,r=a._settings;r.autoplay=!1;r.playlist="";r._poster=null;r.playlistObject=null;r.overrideHoldingImage=null;r.overrideCtaDuration=null;r.webcastData={};r.statsObject.parentPID=void 0;r.statsObject.parentPIDType=void 0;r.statsObject.episodePID=void 0;r.statsObject.clipPID=void 0;r.statsObject.brandPID=void 0;r.statsObject.seriesPID=void 0;r.statsObject.playlistLabels=void 0;r.statsObject.playlistURL=void 0;r.statsObject.playlistName=void 0;r.playlistObject=e;r.startTime=0;o.resetForPlaylist();a.settings(t);o._statsObject=n.clone(r.statsObject);o.includePoster&&(r.autoplay?setTimeout(function(){i(a)},100):i(a));o._lastSignificant=r.startTime;r.phantomPlayer||"smp-phantom"!=o._name?o.loadPlaylist(a):this.load()},kind:function(){return this.player.kind()},captureIntent:function(e){return this.player.captureIntent(e)},stop:function(){this._settings.autoplay=!1;return this.player.stop()},loadPlugin:function(e,t){if(this.player.loadPlugin)this.player.loadPlugin(e,t);else if(e){e.data=t;this._settings.plugins.toLoad.push(e)}},updateUiConfig:function(e){var t=this._settings;t.set({ui:e});this.player.updateUiConfig(e)},updateQuality:function(e){var t=this._settings;t.set(e);this.player.updateQuality(e)},setData:function(e){this.player.setData(e)},setPoster:function(e,t){this.player.setPoster(e,t)},dispatchEvent:function(e,t){this.player.dispatchEvent(e,t)},pauseAt:function(e){this.player.pauseAt(e)},webcastData:function(e){this._settings.webcastData=e;this.player.webcastData(e)},volume:function(e){var t=this.player.volume(e);return t},playbackRate:function(e){return this.player.playbackRate(e)},paused:function(){return this.player.paused()},ended:function(){return this.player.ended()},seeking:function(){return this.player.seeking()},mediaItem:function(){return this.player.mediaItem()},playlist:function(){return this.player.loadedPlaylist()},bind:function(e,t,n){for(var i=(e+"").split(/\s/),a=0;i.length>a;a++){var o=i[a];this._events[o]||(this._events[o]=[]);if(n)r={obj:t,handler:n};else var r=t;this._events[o].push(r)}},trigger:function(e){var t=e.type;if(this._events[t])for(var n=0;this._events[t].length>n;n++){var i=this._events[t][n];if(i.handler){e.data=i.obj;i.handler(e)}else i(e)}},unbind:function(e,t){if(this._events[e])for(var n=this._events[e].length;n>=0;n--)this._events[e][n]==t&&this._events[e].splice(n,1)},_loadOptions:function(e){var a=this;a._decisionEngine.setSettings(a._settings);var o=a._settings;if(o.playlistObject&&o.playlistObject.items){var d=o.playlistObject.items[0];if(d){var c=d.versionID||d.vpid||"";if(c.length>7&&"p09108vv,p09hh03z,p09hh046,p09hh03f,p09hh049,p09hh03x,p09hh04t,p09hh063,p09hh05v,p09hh3k5,p09hgzj3".indexOf(c)>-1){o.plugins.toLoad.push({html:"https://storyplayer.pilots.bbcconnectedstudio.co.uk/smp-js"});o.ui.skin="storykit";o.waitOnPluginLoad=!0}}}a.player&&a.player.immediate&&(e=!0);a.decide();a.loadingData={now:t,load:t()};var p=a._decisionEngine.name,m=window.embeddedMedia;"smphtml5"==p&&!m.chromeCast.castInterface&&s.supportChromecast&&o.allowCasting&&(m.chromeCast.castInterface=new r(o));if(p){var g=function(e,t){window.embeddedMedia.addPlayer(o.domid,e);a.player=e;e.showErrorDialog=a.showErrorDialog;if(e.includePoster){e.setPoster=function(e){a.poster(e)};i(a)}o.statsObject.playlistURL||(o.statsObject.playlistURL=o.playlist||void 0);e._statsObject=n.clone(o.statsObject);if(a._sonarReporter){a._sonarReporter.newPlayer(a,e.requireSonarJS);e.sonar=a._sonarReporter}if(t){a.capability=t;t.toucanCompatible=f.prototype.compatibility(o,!0)}e.reloadScope=a};if("html"==a.player.type){var h=window.innerHeight;isNaN(h)&&(h=1e3);if(o.container&&o.container.getClientRects){var v=o.container.getClientRects();(!v[0]||h>v[0].y)&&(e=!0)}}window.embeddedMedia.playerInits++;a.create=function(){a.addInitialisationListener(a);a.player.trigger=function(e){a.trigger(e)};a.player.embed(o,g)};if(e||a.player.immediate)a.create();else if(0===window.embeddedMedia.players.length)a.create();else if(window.embeddedMedia.players[0].ready)a.create();else{var b=500*(window.embeddedMedia.playerInits+2);setTimeout(function(){a.create()},b)}}else{i(a);var w=6003;o.dashPlaybackOnly&&!o.threeSixty?w=6012:!s.supportedFlash||o.showUnsupportedMessage||o.threeSixty||(w=6010);var P=new u(w,o);o.ui.hideDefaultErrors||this.showErrorDialog(P);a.trigger(P);y.error(P.code,o);a.player=new l;a.player.fake=!0}return this},load:function(e){var t=this;"string"==typeof e?t._settings.playlist=e:"object"==typeof e&&t._settings.set(e);window.embeddedMedia.language.load(t._settings.locale(),function(){t._loadOptions()});return t},addInitialisationListener:function(e){var n=this._settings;clearTimeout(n.initialisationListenerTimeout);n.initialisationListenerTimeout=setTimeout(function(){var t=new u(6004,n);y.error(t.code,n,e.player._name);e.trigger(t)},1e4);e.bind("initialised",function(){clearTimeout(n.initialisationListenerTimeout);var i=t();if(i){e.loadingData.init=i;var a=!1;setTimeout(function(){if(!a){a=!0;y.info(e.loadingData,e)}},1e4)}})},showErrorDialog:function(e){var t=this._settings,i=t.container,a=t.ui.miniMode&&t.ui.miniMode.enabled,o=document.createElement("div");o.setAttribute("style","width:100%;height:100%;background:rgba(51,51,51,0.85);position:relative;min-height:160px");var r=document.createElement("div"),l=r.style;l.position="absolute";if(a){l.width="150px";l.height="80px";l.fontSize="16px"}else{l.width="440px";l.height="160px";l.fontSize="18px";if(s.os.winphone)l.top=l.left=l.marginLeft=l.marginTop=0;else{l.top=l.left="50%";l.marginLeft="-220px";l.marginTop="-80px"}}l.verticalAlign="middle";l.textAlign="center";l.color="white";l.fontFamily="arial, helvetica, sans-serif";var d=document.createElement("div");d.style.backgroundImage="url(https://emp.bbci.co.uk/emp/assets/2.0.27/alert.png)";d.style.backgroundRepeat="no-repeat";d.style.backgroundPosition="50% 0";d.style.height="22px";d.style.backgroundSize="22px";var c=document.createElement("div"),u=c.style;u.position="absolute";u.display="block";if(a)u.top=u.left=u.right="8px";else{u.top="38px";u.left=u.right="20px"}c.innerHTML=e.description;if(!a){var p=' target="_blank" style="color:white;text-decoration:underline;background-color : transparent;">';if(6010==e.code){var m=document.createElement("div"),f=m.style;f.position="absolute";f.bottom="20px";f.right=f.left="10px";m.innerHTML='<a href="https://www.bbc.co.uk/iplayer/help/questions/computer-issues/flash"'+p+window.embeddedMedia.language.t("deprecationMessageLongLink",t.locale())+"</a>";r.appendChild(m)}}o.appendChild(r);a||r.appendChild(d);if(i.getBoundingClientRect("width")<440){l.width="100%";l.fontSize="14px";a||(l.left="220px")}r.appendChild(c);i.appendChild(n.getWrapper(t).appendChild(o))}};return o}();!function(){var e={},t=n.addEmbeddedMedia();t.version=this.bumpVersion="4.27.1";t.api||(t.api={player:function(t,n){if(!t)throw"You need to provide a container for the player";var i=t.getAttribute("id");if("undefined"==typeof e[i]||e[i].settings().container!=t){if(!n)throw"No player settings. If you're trying to get a reference, it's probably not created yet.";if(!i){var a="bbcMediaPlayer",o=0;do i=a+o++;while(document.getElementById(i));t.setAttribute("id",i)}e[i]=new _(t,n)}else e[i].settings(n);return e[i]},players:function(){return e}})}();"function"==typeof define&&define.amd&&define("bump-4",[],function(){return window.embeddedMedia.api})}();